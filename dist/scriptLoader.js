(()=>{"use strict";var e={420:(e,o,n)=>{n.d(o,{Z:()=>r});class t{debug=console.debug;log=console.log;warn=console.warn;info=console.info;error=console.error;trace=console.trace;group=console.group;groupCollapsed=console.groupCollapsed;groupEnd=console.groupEnd;constructor(e=null){const o=[];null!==e&&o.push(e.toString()),this.debug=console.debug.bind(console,...o),this.log=console.log.bind(console,...o),this.warn=console.warn.bind(console,...o),this.info=console.info.bind(console,...o),this.error=console.error.bind(console,...o),this.trace=console.trace.bind(console,...o),this.group=console.group.bind(console,...o),this.groupCollapsed=console.groupCollapsed.bind(console,...o)}}globalThis.Logger=t;const r=t}},o={};function n(t){var r=o[t];if(void 0!==r)return r.exports;var a=o[t]={exports:{}};return e[t](a,a.exports,n),a.exports}n.d=(e,o)=>{for(var t in o)n.o(o,t)&&!n.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:o[t]})},n.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),(()=>{var e=n(420);const o=async function(e,o=!1){return new Promise(((n,t)=>{const r=/^\./.test(e)?`${globalThis.location.href.replace(/\w+(\.\w+)?$/,"")}${e}`:e,a=document.createElement("script");console.log(`\`- source: ${e}`),console.log(`\`- src: ${r}`),o?async function(e){const o=await fetch(e,{method:"GET"});if(!o.ok)throw new ReferenceError(o.statusText);return o.text()}(r).then((e=>{a.innerHTML=e,document.head.append(a)})).then(n).catch(t):(a.src=r,a.addEventListener("load",(async()=>{await async function(){"complete"!==document.readyState&&await new Promise((e=>{window.addEventListener("load",(()=>{e(void 0)}),{once:!0})}))}(),n()})),a.addEventListener("error",(()=>{a.remove(),t()})),document.head.append(a))}))},t=new e.Z("[SL]"),r=document.currentScript,a=r.getAttribute("event:load")??"scriptload",s=document.createElement("style"),i=document.createElement("div"),d=`loading_${Date.now()}`,c=(e,o)=>{if(i.setAttribute("data-message",e),o){const e=Math.round(100*o);i.style.setProperty("--progress",`${e}%`)}},l=(r.getAttribute("module")??"").split(/[|;,\s]/).map((e=>e.trim())).filter((e=>e.length>0)),g=async(e=0)=>{const n=l[e];if(n){const r=n,a=`${r}.js`,s=(e+1)/l.length;t.log(`Loading script path: ${a}`),c(`Loading module: ${n}`,s);try{await o(a)}catch(e){const a=`${r}/index.js`;t.log(`Loading failed. Try to load script path: ${a}`);try{await o(a),t.info(`Loaded script: ${n}`)}catch(e){t.warn(`Loading failed. Script not found: ${n}`)}}finally{await g(e+1)}}};async function p(){t.log("Loading modules"),await g(),t.info("Loaded all modules"),c("Loaded all modules",1),setTimeout((()=>{i.remove(),s.remove(),window.dispatchEvent(new CustomEvent(a))}),1e3)}i.id=d,s.innerHTML=`\n  #${d} ~ * {\n    display: none;\n  }\n  #${d} {\n    position: fixed;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    margin: auto;\n    color: #333;\n    background-color: #fff;\n    font-size: 13px;\n    font-family: arial;\n    font-weight: normal;\n    line-height: 1.5em;\n    display: grid;\n    grid-template-rows: 1fr repeat(2, auto) 1fr;\n    grid-template-areas: 'head' 'message' 'progress' 'tail';\n    gap: 0.25em;\n    align-items: center;\n    justify-items: center;\n  }\n  #${d}::before {\n    content: attr(data-message);\n    display: block;\n    grid-area: message;\n  }\n  #${d}::after {\n    content: '';\n    width: 20vw;\n    height: 0.8em;\n    box-sizing: border-box;\n    border-radius: 0.5em;\n    border: 1px solid #666;\n    background-image: linear-gradient(90deg,\n      #6c6 var(--progress),\n      transparent var(--progress)\n    );\n    font-size: 0.5rem;\n    display: block;\n    grid-area: progress;\n  }\n`,document.head.append(s),async function(){"complete"!==document.readyState&&await new Promise((e=>{window.addEventListener("DOMContentLoaded",(()=>{e(void 0)}),{once:!0})}))}().then((()=>{document.body.prepend(i)})),"complete"===document.readyState?p():window.addEventListener("load",p),globalThis.loadScript=o})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SyxFQUFhTCxTQUNiSCxPQUFPc0MsY0FBYyxJQUFJQyxZQUFZakMsTUFDcEMsS0E3RExHLEVBQVcrQixHQUFLOUIsRUFDaEJGLEVBQWFkLFVBQWEsUUFDckJnQix3Q0FHQUEsZ2RBb0JBQSx3R0FLQUEsOFZBZ0JMNUIsU0FBU2EsS0FBS0MsT0FBT1ksR0Q5RWR0QyxpQkFDdUIsYUFBeEJZLFNBQVNpQixrQkFJUCxJQUFJMUIsU0FBU0MsSUFDakIwQixPQUFPRixpQkFDTCxvQkFDQSxLQUNFeEIsT0FBUXJCLEtBRVYsQ0FBRWdELE1BQU0sT0NvRWR3QyxHQUNHaEQsTUFBSyxLQUNKWCxTQUFTNEQsS0FBS0MsUUFBUWxDLE1BZUUsYUFBeEIzQixTQUFTaUIsV0FDWHFDLElBRUFwQyxPQUFPRixpQkFBaUIsT0FBUXNDLEdBR2pDeEYsV0FBbUJxRixXQUFhQSxHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGxmMmNvbS9icm93c2VyLXV0aWxzLy4vc3JjL0xvZ2dlci50cyIsIndlYnBhY2s6Ly9AbGYyY29tL2Jyb3dzZXItdXRpbHMvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vQGxmMmNvbS9icm93c2VyLXV0aWxzL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9AbGYyY29tL2Jyb3dzZXItdXRpbHMvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9AbGYyY29tL2Jyb3dzZXItdXRpbHMvLi9zcmMvdXRpbHMvZmV0Y2hVcmxUZXh0LnRzIiwid2VicGFjazovL0BsZjJjb20vYnJvd3Nlci11dGlscy8uL3NyYy91dGlscy9sb2FkU2NyaXB0LnRzIiwid2VicGFjazovL0BsZjJjb20vYnJvd3Nlci11dGlscy8uL3NyYy91dGlscy93YWl0Rm9yUGFnZUxvYWRlZC50cyIsIndlYnBhY2s6Ly9AbGYyY29tL2Jyb3dzZXItdXRpbHMvLi9zcmMvc2NyaXB0TG9hZGVyL2luZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnNvbGUgKi9cbmNsYXNzIExvZ2dlciB7XG4gIHJlYWRvbmx5IGRlYnVnOiB0eXBlb2YgY29uc29sZVsnZGVidWcnXSA9IGNvbnNvbGUuZGVidWc7XG5cbiAgcmVhZG9ubHkgbG9nOiB0eXBlb2YgY29uc29sZVsnbG9nJ10gPSBjb25zb2xlLmxvZztcblxuICByZWFkb25seSB3YXJuOiB0eXBlb2YgY29uc29sZVsnd2FybiddID0gY29uc29sZS53YXJuO1xuXG4gIHJlYWRvbmx5IGluZm86IHR5cGVvZiBjb25zb2xlWydpbmZvJ10gPSBjb25zb2xlLmluZm87XG5cbiAgcmVhZG9ubHkgZXJyb3I6IHR5cGVvZiBjb25zb2xlWydlcnJvciddID0gY29uc29sZS5lcnJvcjtcblxuICByZWFkb25seSB0cmFjZTogdHlwZW9mIGNvbnNvbGVbJ3RyYWNlJ10gPSBjb25zb2xlLnRyYWNlO1xuXG4gIHJlYWRvbmx5IGdyb3VwOiB0eXBlb2YgY29uc29sZVsnZ3JvdXAnXSA9IGNvbnNvbGUuZ3JvdXA7XG5cbiAgcmVhZG9ubHkgZ3JvdXBDb2xsYXBzZWQ6IHR5cGVvZiBjb25zb2xlWydncm91cENvbGxhcHNlZCddID0gY29uc29sZS5ncm91cENvbGxhcHNlZDtcblxuICByZWFkb25seSBncm91cEVuZDogdHlwZW9mIGNvbnNvbGVbJ2dyb3VwRW5kJ10gPSBjb25zb2xlLmdyb3VwRW5kO1xuXG4gIGNvbnN0cnVjdG9yKHRhZzogc3RyaW5nIHwgbnVsbCA9IG51bGwpIHtcbiAgICBjb25zdCBiaW5kZXI6IGFueVtdID0gW107XG5cbiAgICBpZiAodGFnICE9PSBudWxsKSB7XG4gICAgICBiaW5kZXIucHVzaCh0YWcudG9TdHJpbmcoKSk7XG4gICAgfVxuXG4gICAgdGhpcy5kZWJ1ZyA9IGNvbnNvbGUuZGVidWcuYmluZChjb25zb2xlLCAuLi5iaW5kZXIpO1xuICAgIHRoaXMubG9nID0gY29uc29sZS5sb2cuYmluZChjb25zb2xlLCAuLi5iaW5kZXIpO1xuICAgIHRoaXMud2FybiA9IGNvbnNvbGUud2Fybi5iaW5kKGNvbnNvbGUsIC4uLmJpbmRlcik7XG4gICAgdGhpcy5pbmZvID0gY29uc29sZS5pbmZvLmJpbmQoY29uc29sZSwgLi4uYmluZGVyKTtcbiAgICB0aGlzLmVycm9yID0gY29uc29sZS5lcnJvci5iaW5kKGNvbnNvbGUsIC4uLmJpbmRlcik7XG4gICAgdGhpcy50cmFjZSA9IGNvbnNvbGUudHJhY2UuYmluZChjb25zb2xlLCAuLi5iaW5kZXIpO1xuICAgIHRoaXMuZ3JvdXAgPSBjb25zb2xlLmdyb3VwLmJpbmQoY29uc29sZSwgLi4uYmluZGVyKTtcbiAgICB0aGlzLmdyb3VwQ29sbGFwc2VkID0gY29uc29sZS5ncm91cENvbGxhcHNlZC5iaW5kKGNvbnNvbGUsIC4uLmJpbmRlcik7XG4gIH1cbn1cblxuKGdsb2JhbFRoaXMgYXMgYW55KS5Mb2dnZXIgPSBMb2dnZXI7XG5cbmV4cG9ydCBkZWZhdWx0IExvZ2dlcjtcbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiLyoqXG4gKiBSZXR1cm5zIHRleHQgb2YgVVJMLlxuICovXG5hc3luYyBmdW5jdGlvbiBmZXRjaFVybFRleHQodXJsOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4ge1xuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCwge1xuICAgIG1ldGhvZDogJ0dFVCcsXG4gIH0pO1xuXG4gIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IocmVzcG9uc2Uuc3RhdHVzVGV4dCk7XG4gIH1cblxuICByZXR1cm4gcmVzcG9uc2UudGV4dCgpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmZXRjaFVybFRleHQ7XG4iLCJpbXBvcnQgZmV0Y2hVcmxUZXh0IGZyb20gJy4vZmV0Y2hVcmxUZXh0JztcbmltcG9ydCB3YWl0Rm9yUGFnZUxvYWRlZCBmcm9tICcuL3dhaXRGb3JQYWdlTG9hZGVkJztcblxuLyoqXG4gKiBMb2FkcyBzY3JpcHQuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGxvYWRTY3JpcHQoc291cmNlOiBzdHJpbmcsIGxvYWRSYXdUZXh0ID0gZmFsc2UpOiBQcm9taXNlPHZvaWQ+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBjb25zdCBzcmMgPSAoL15cXC4vLnRlc3Qoc291cmNlKVxuICAgICAgPyBgJHtnbG9iYWxUaGlzLmxvY2F0aW9uLmhyZWYucmVwbGFjZSgvXFx3KyhcXC5cXHcrKT8kLywgJycpfSR7c291cmNlfWBcbiAgICAgIDogc291cmNlXG4gICAgKTtcbiAgICBjb25zdCBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcbiAgICBjb25zb2xlLmxvZyhgXFxgLSBzb3VyY2U6ICR7c291cmNlfWApO1xuICAgIGNvbnNvbGUubG9nKGBcXGAtIHNyYzogJHtzcmN9YCk7XG5cbiAgICBpZiAobG9hZFJhd1RleHQpIHtcbiAgICAgIGZldGNoVXJsVGV4dChzcmMpXG4gICAgICAgIC50aGVuKCh0ZXh0KSA9PiB7XG4gICAgICAgICAgc2NyaXB0LmlubmVySFRNTCA9IHRleHQ7XG4gICAgICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmQoc2NyaXB0KTtcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4ocmVzb2x2ZSlcbiAgICAgICAgLmNhdGNoKHJlamVjdCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNjcmlwdC5zcmMgPSBzcmM7XG4gICAgICBzY3JpcHQuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGFzeW5jICgpID0+IHtcbiAgICAgICAgYXdhaXQgd2FpdEZvclBhZ2VMb2FkZWQoKTtcbiAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgfSk7XG4gICAgICBzY3JpcHQuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCAoKSA9PiB7XG4gICAgICAgIHNjcmlwdC5yZW1vdmUoKTtcbiAgICAgICAgcmVqZWN0KCk7XG4gICAgICB9KTtcbiAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kKHNjcmlwdCk7XG4gICAgfVxuICB9KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgbG9hZFNjcmlwdDtcbiIsIi8qKlxuICogV2FpdHMgdW50aWwgcGFnZSBpcyBsb2FkZWQuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIHdhaXRGb3JQYWdlTG9hZGVkKCk6IFByb21pc2U8dm9pZD4ge1xuICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gJ2NvbXBsZXRlJykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAnbG9hZCcsXG4gICAgICAoKSA9PiB7XG4gICAgICAgIHJlc29sdmUodW5kZWZpbmVkKTtcbiAgICAgIH0sXG4gICAgICB7IG9uY2U6IHRydWUgfSxcbiAgICApO1xuICB9KTtcbn1cbi8qKlxuICogV2FpdHMgdW50aWwgRE9NIGNvbnRlbnQgaXMgbG9hZGVkLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gd2FpdEZvckRPTUNvbnRlbnRMb2FkZWQoKTogUHJvbWlzZTx2b2lkPiB7XG4gIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlID09PSAnY29tcGxldGUnKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICdET01Db250ZW50TG9hZGVkJyxcbiAgICAgICgpID0+IHtcbiAgICAgICAgcmVzb2x2ZSh1bmRlZmluZWQpO1xuICAgICAgfSxcbiAgICAgIHsgb25jZTogdHJ1ZSB9LFxuICAgICk7XG4gIH0pO1xufVxuXG5leHBvcnQgZGVmYXVsdCB3YWl0Rm9yUGFnZUxvYWRlZDtcbiIsImltcG9ydCBMb2dnZXIgZnJvbSAnLi4vTG9nZ2VyJztcbmltcG9ydCBsb2FkU2NyaXB0IGZyb20gJy4uL3V0aWxzL2xvYWRTY3JpcHQnO1xuaW1wb3J0IHsgd2FpdEZvckRPTUNvbnRlbnRMb2FkZWQgfSBmcm9tICcuLi91dGlscy93YWl0Rm9yUGFnZUxvYWRlZCc7XG5cbmNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoJ1tTTF0nKTtcbmNvbnN0IGN1cnJlbnRTY3JpcHQgPSBkb2N1bWVudC5jdXJyZW50U2NyaXB0ITtcbmNvbnN0IGxvYWRFdmVudCA9IGN1cnJlbnRTY3JpcHQuZ2V0QXR0cmlidXRlKCdldmVudDpsb2FkJykgPz8gJ3NjcmlwdGxvYWQnO1xuY29uc3Qgc3R5bGVMb2FkaW5nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbmNvbnN0IGRvbUxvYWRpbmcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbmNvbnN0IGlkTG9hZGluZyA9IGBsb2FkaW5nXyR7RGF0ZS5ub3coKX1gO1xuY29uc3Qgc2V0TG9hZGluZ01lc3NhZ2UgPSAobWVzc2FnZTogc3RyaW5nLCBwcm9ncmVzcz86IG51bWJlcikgPT4ge1xuICBkb21Mb2FkaW5nLnNldEF0dHJpYnV0ZSgnZGF0YS1tZXNzYWdlJywgbWVzc2FnZSk7XG5cbiAgaWYgKHByb2dyZXNzKSB7XG4gICAgY29uc3QgcGVyY2VudGFnZSA9IE1hdGgucm91bmQoMTAwICogcHJvZ3Jlc3MpO1xuXG4gICAgZG9tTG9hZGluZy5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1wcm9ncmVzcycsIGAke3BlcmNlbnRhZ2V9JWApO1xuICB9XG59O1xuY29uc3QgbW9kdWxlcyA9IChjdXJyZW50U2NyaXB0LmdldEF0dHJpYnV0ZSgnbW9kdWxlJykgPz8gJycpXG4gIC5zcGxpdCgvW3w7LFxcc10vKVxuICAubWFwKChzKSA9PiBzLnRyaW0oKSlcbiAgLmZpbHRlcigocykgPT4gcy5sZW5ndGggPiAwKTtcbmNvbnN0IGxvYWROZXh0TW9kdWxlID0gYXN5bmMgKGluZGV4ID0gMCkgPT4ge1xuICBjb25zdCBtb2R1bGUgPSBtb2R1bGVzW2luZGV4XTtcblxuICBpZiAobW9kdWxlKSB7XG4gICAgY29uc3Qgcm9vdCA9IG1vZHVsZTtcbiAgICBjb25zdCBkZWZhdWx0UGF0aCA9IGAke3Jvb3R9LmpzYDtcbiAgICBjb25zdCBwcm9ncmVzcyA9IChpbmRleCArIDEpIC8gbW9kdWxlcy5sZW5ndGg7XG5cbiAgICBsb2dnZXIubG9nKGBMb2FkaW5nIHNjcmlwdCBwYXRoOiAke2RlZmF1bHRQYXRofWApO1xuICAgIHNldExvYWRpbmdNZXNzYWdlKGBMb2FkaW5nIG1vZHVsZTogJHttb2R1bGV9YCwgcHJvZ3Jlc3MpO1xuXG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IGxvYWRTY3JpcHQoZGVmYXVsdFBhdGgpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zdCBiYWNrdXBQYXRoID0gYCR7cm9vdH0vaW5kZXguanNgO1xuXG4gICAgICBsb2dnZXIubG9nKGBMb2FkaW5nIGZhaWxlZC4gVHJ5IHRvIGxvYWQgc2NyaXB0IHBhdGg6ICR7YmFja3VwUGF0aH1gKTtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgbG9hZFNjcmlwdChiYWNrdXBQYXRoKTtcbiAgICAgICAgbG9nZ2VyLmluZm8oYExvYWRlZCBzY3JpcHQ6ICR7bW9kdWxlfWApO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGxvZ2dlci53YXJuKGBMb2FkaW5nIGZhaWxlZC4gU2NyaXB0IG5vdCBmb3VuZDogJHttb2R1bGV9YCk7XG4gICAgICB9XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGF3YWl0IGxvYWROZXh0TW9kdWxlKGluZGV4ICsgMSk7XG4gICAgfVxuICB9XG59O1xuXG5kb21Mb2FkaW5nLmlkID0gaWRMb2FkaW5nO1xuc3R5bGVMb2FkaW5nLmlubmVySFRNTCA9IGBcbiAgIyR7aWRMb2FkaW5nfSB+ICoge1xuICAgIGRpc3BsYXk6IG5vbmU7XG4gIH1cbiAgIyR7aWRMb2FkaW5nfSB7XG4gICAgcG9zaXRpb246IGZpeGVkO1xuICAgIHRvcDogMDtcbiAgICByaWdodDogMDtcbiAgICBib3R0b206IDA7XG4gICAgbGVmdDogMDtcbiAgICBtYXJnaW46IGF1dG87XG4gICAgY29sb3I6ICMzMzM7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcbiAgICBmb250LXNpemU6IDEzcHg7XG4gICAgZm9udC1mYW1pbHk6IGFyaWFsO1xuICAgIGZvbnQtd2VpZ2h0OiBub3JtYWw7XG4gICAgbGluZS1oZWlnaHQ6IDEuNWVtO1xuICAgIGRpc3BsYXk6IGdyaWQ7XG4gICAgZ3JpZC10ZW1wbGF0ZS1yb3dzOiAxZnIgcmVwZWF0KDIsIGF1dG8pIDFmcjtcbiAgICBncmlkLXRlbXBsYXRlLWFyZWFzOiAnaGVhZCcgJ21lc3NhZ2UnICdwcm9ncmVzcycgJ3RhaWwnO1xuICAgIGdhcDogMC4yNWVtO1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAganVzdGlmeS1pdGVtczogY2VudGVyO1xuICB9XG4gICMke2lkTG9hZGluZ306OmJlZm9yZSB7XG4gICAgY29udGVudDogYXR0cihkYXRhLW1lc3NhZ2UpO1xuICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIGdyaWQtYXJlYTogbWVzc2FnZTtcbiAgfVxuICAjJHtpZExvYWRpbmd9OjphZnRlciB7XG4gICAgY29udGVudDogJyc7XG4gICAgd2lkdGg6IDIwdnc7XG4gICAgaGVpZ2h0OiAwLjhlbTtcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICAgIGJvcmRlci1yYWRpdXM6IDAuNWVtO1xuICAgIGJvcmRlcjogMXB4IHNvbGlkICM2NjY7XG4gICAgYmFja2dyb3VuZC1pbWFnZTogbGluZWFyLWdyYWRpZW50KDkwZGVnLFxuICAgICAgIzZjNiB2YXIoLS1wcm9ncmVzcyksXG4gICAgICB0cmFuc3BhcmVudCB2YXIoLS1wcm9ncmVzcylcbiAgICApO1xuICAgIGZvbnQtc2l6ZTogMC41cmVtO1xuICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIGdyaWQtYXJlYTogcHJvZ3Jlc3M7XG4gIH1cbmA7XG5kb2N1bWVudC5oZWFkLmFwcGVuZChzdHlsZUxvYWRpbmcpO1xud2FpdEZvckRPTUNvbnRlbnRMb2FkZWQoKVxuICAudGhlbigoKSA9PiB7XG4gICAgZG9jdW1lbnQuYm9keS5wcmVwZW5kKGRvbUxvYWRpbmcpO1xuICB9KTtcblxuYXN5bmMgZnVuY3Rpb24gb25Mb2FkKCkge1xuICBsb2dnZXIubG9nKCdMb2FkaW5nIG1vZHVsZXMnKTtcbiAgYXdhaXQgbG9hZE5leHRNb2R1bGUoKTtcbiAgbG9nZ2VyLmluZm8oJ0xvYWRlZCBhbGwgbW9kdWxlcycpO1xuICBzZXRMb2FkaW5nTWVzc2FnZSgnTG9hZGVkIGFsbCBtb2R1bGVzJywgMSk7XG4gIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgIGRvbUxvYWRpbmcucmVtb3ZlKCk7XG4gICAgc3R5bGVMb2FkaW5nLnJlbW92ZSgpO1xuICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudChsb2FkRXZlbnQpKTtcbiAgfSwgMTAwMCk7XG59XG5cbmlmIChkb2N1bWVudC5yZWFkeVN0YXRlID09PSAnY29tcGxldGUnKSB7XG4gIG9uTG9hZCgpO1xufSBlbHNlIHtcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBvbkxvYWQpO1xufVxuXG4oZ2xvYmFsVGhpcyBhcyBhbnkpLmxvYWRTY3JpcHQgPSBsb2FkU2NyaXB0O1xuIl0sIm5hbWVzIjpbIkxvZ2dlciIsImRlYnVnIiwiY29uc29sZSIsImxvZyIsIndhcm4iLCJpbmZvIiwiZXJyb3IiLCJ0cmFjZSIsImdyb3VwIiwiZ3JvdXBDb2xsYXBzZWQiLCJncm91cEVuZCIsImNvbnN0cnVjdG9yIiwidGFnIiwiYmluZGVyIiwicHVzaCIsInRvU3RyaW5nIiwidGhpcyIsImJpbmQiLCJnbG9iYWxUaGlzIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwidW5kZWZpbmVkIiwiZXhwb3J0cyIsIm1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJkIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJvYmoiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiYXN5bmMiLCJzb3VyY2UiLCJsb2FkUmF3VGV4dCIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0Iiwic3JjIiwidGVzdCIsImxvY2F0aW9uIiwiaHJlZiIsInJlcGxhY2UiLCJzY3JpcHQiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJ1cmwiLCJyZXNwb25zZSIsImZldGNoIiwibWV0aG9kIiwib2siLCJSZWZlcmVuY2VFcnJvciIsInN0YXR1c1RleHQiLCJ0ZXh0IiwiZmV0Y2hVcmxUZXh0IiwidGhlbiIsImlubmVySFRNTCIsImhlYWQiLCJhcHBlbmQiLCJjYXRjaCIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZWFkeVN0YXRlIiwid2luZG93Iiwib25jZSIsIndhaXRGb3JQYWdlTG9hZGVkIiwicmVtb3ZlIiwibG9nZ2VyIiwiY3VycmVudFNjcmlwdCIsImxvYWRFdmVudCIsImdldEF0dHJpYnV0ZSIsInN0eWxlTG9hZGluZyIsImRvbUxvYWRpbmciLCJpZExvYWRpbmciLCJEYXRlIiwibm93Iiwic2V0TG9hZGluZ01lc3NhZ2UiLCJtZXNzYWdlIiwicHJvZ3Jlc3MiLCJzZXRBdHRyaWJ1dGUiLCJwZXJjZW50YWdlIiwiTWF0aCIsInJvdW5kIiwic3R5bGUiLCJzZXRQcm9wZXJ0eSIsIm1vZHVsZXMiLCJzcGxpdCIsIm1hcCIsInMiLCJ0cmltIiwiZmlsdGVyIiwibGVuZ3RoIiwibG9hZE5leHRNb2R1bGUiLCJpbmRleCIsInJvb3QiLCJkZWZhdWx0UGF0aCIsImxvYWRTY3JpcHQiLCJiYWNrdXBQYXRoIiwiZXJyIiwib25Mb2FkIiwic2V0VGltZW91dCIsImRpc3BhdGNoRXZlbnQiLCJDdXN0b21FdmVudCIsImlkIiwid2FpdEZvckRPTUNvbnRlbnRMb2FkZWQiLCJib2R5IiwicHJlcGVuZCJdLCJzb3VyY2VSb290IjoiIn0=