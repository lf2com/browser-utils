(()=>{"use strict";var e={420:(e,n,o)=>{o.d(n,{Z:()=>r});class t{debug=console.debug;log=console.log;warn=console.warn;info=console.info;error=console.error;trace=console.trace;group=console.group;groupCollapsed=console.groupCollapsed;groupEnd=console.groupEnd;constructor(e=null){const n=[];null!==e&&n.push(e.toString()),this.debug=console.debug.bind(console,...n),this.log=console.log.bind(console,...n),this.warn=console.warn.bind(console,...n),this.info=console.info.bind(console,...n),this.error=console.error.bind(console,...n),this.trace=console.trace.bind(console,...n),this.group=console.group.bind(console,...n),this.groupCollapsed=console.groupCollapsed.bind(console,...n)}}globalThis.Logger=t;const r=t}},n={};function o(t){var r=n[t];if(void 0!==r)return r.exports;var a=n[t]={exports:{}};return e[t](a,a.exports,o),a.exports}o.d=(e,n)=>{for(var t in n)o.o(n,t)&&!o.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},o.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),(()=>{var e=o(420);const n=async function(e,n=!1){return new Promise(((o,t)=>{const r=/^\./.test(e)?`${globalThis.location.href.replace(/\w+(\.\w+)?$/,"")}${e}`:e,a=document.createElement("script");n?async function(e){const n=await fetch(e,{method:"GET"});if(!n.ok)throw new ReferenceError(n.statusText);return n.text()}(r).then((e=>{a.innerHTML=e,document.head.append(a)})).then(o).catch(t):(a.src=r,a.addEventListener("load",(async()=>{await async function(){"complete"!==document.readyState&&await new Promise((e=>{window.addEventListener("load",(()=>{e(void 0)}),{once:!0})}))}(),o()})),a.addEventListener("error",(()=>{a.remove(),t()})),document.head.append(a))}))},t=new e.Z("[SL]"),r=document.currentScript,a=r.getAttribute("src")?.replace(/\w+(\.\w+)?$/,""),s=r.getAttribute("event:load")??"scriptload",i=document.createElement("style"),d=document.createElement("div"),c=`loading_${Date.now()}`,l=(e,n)=>{if(d.setAttribute("data-message",e),n){const e=Math.round(100*n);d.style.setProperty("--progress",`${e}%`)}},p=(r.getAttribute("module")??"").split(/[|;,\s]/).map((e=>e.trim())).filter((e=>e.length>0)),g=async(e=0)=>{const o=p[e];if(o){const r=/^~/.test(o)?`${a}${o.replace(/^~\//,"")}`:o,s=`${r}.js`,i=(e+1)/p.length;t.log(`Loading script path: ${s}`),l(`Loading module: ${o}`,i);try{await n(s)}catch(e){const a=`${r}/index.js`;t.log(`Loading failed. Try to load script path: ${a}`);try{await n(a),t.info(`Loaded script: ${o}`)}catch(e){t.warn(`Loading failed. Script not found: ${o}`)}}finally{await g(e+1)}}};async function u(){t.log("Loading modules"),await g(),t.info("Loaded all modules"),l("Loaded all modules",1),setTimeout((()=>{d.remove(),i.remove(),window.dispatchEvent(new CustomEvent(s))}),1e3)}d.id=c,i.innerHTML=`\n  #${c} ~ * {\n    display: none;\n  }\n  #${c} {\n    position: fixed;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    margin: auto;\n    color: #333;\n    background-color: #fff;\n    font-size: 13px;\n    font-family: arial;\n    font-weight: normal;\n    line-height: 1.5em;\n    display: grid;\n    grid-template-rows: 1fr repeat(2, auto) 1fr;\n    grid-template-areas: 'head' 'message' 'progress' 'tail';\n    gap: 0.25em;\n    align-items: center;\n    justify-items: center;\n  }\n  #${c}::before {\n    content: attr(data-message);\n    display: block;\n    grid-area: message;\n  }\n  #${c}::after {\n    content: '';\n    width: 20vw;\n    height: 0.8em;\n    box-sizing: border-box;\n    border-radius: 0.5em;\n    border: 1px solid #666;\n    background-image: linear-gradient(90deg,\n      #6c6 var(--progress),\n      transparent var(--progress)\n    );\n    font-size: 0.5rem;\n    display: block;\n    grid-area: progress;\n  }\n`,document.head.append(i),async function(){"complete"!==document.readyState&&await new Promise((e=>{window.addEventListener("DOMContentLoaded",(()=>{e(void 0)}),{once:!0})}))}().then((()=>{document.body.prepend(d)})),"complete"===document.readyState?u():window.addEventListener("load",u),globalThis.loadScript=n})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q1orRSxFQUFrQixxQkFBc0IsR0FDeEN3QixZQUFXLEtBQ1Q1QixFQUFXUCxTQUNYTSxFQUFhTixTQUNiSCxPQUFPdUMsY0FBYyxJQUFJQyxZQUFZaEMsTUFDcEMsS0E3RExFLEVBQVcrQixHQUFLOUIsRUFDaEJGLEVBQWFmLFVBQWEsUUFDckJpQix3Q0FHQUEsZ2RBb0JBQSx3R0FLQUEsOFZBZ0JMN0IsU0FBU2EsS0FBS0MsT0FBT2EsR0RsRmR2QyxpQkFDdUIsYUFBeEJZLFNBQVNpQixrQkFJUCxJQUFJMUIsU0FBU0MsSUFDakIwQixPQUFPRixpQkFDTCxvQkFDQSxLQUNFeEIsT0FBUXJCLEtBRVYsQ0FBRWdELE1BQU0sT0N3RWR5QyxHQUNHakQsTUFBSyxLQUNKWCxTQUFTNkQsS0FBS0MsUUFBUWxDLE1BZUUsYUFBeEI1QixTQUFTaUIsV0FDWHNDLElBRUFyQyxPQUFPRixpQkFBaUIsT0FBUXVDLEdBR2pDekYsV0FBbUJzRixXQUFhQSxHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGxmMmNvbS9icm93c2VyLXV0aWxzLy4vc3JjL0xvZ2dlci50cyIsIndlYnBhY2s6Ly9AbGYyY29tL2Jyb3dzZXItdXRpbHMvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vQGxmMmNvbS9icm93c2VyLXV0aWxzL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9AbGYyY29tL2Jyb3dzZXItdXRpbHMvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9AbGYyY29tL2Jyb3dzZXItdXRpbHMvLi9zcmMvdXRpbHMvZmV0Y2hVcmxUZXh0LnRzIiwid2VicGFjazovL0BsZjJjb20vYnJvd3Nlci11dGlscy8uL3NyYy91dGlscy9sb2FkU2NyaXB0LnRzIiwid2VicGFjazovL0BsZjJjb20vYnJvd3Nlci11dGlscy8uL3NyYy91dGlscy93YWl0Rm9yUGFnZUxvYWRlZC50cyIsIndlYnBhY2s6Ly9AbGYyY29tL2Jyb3dzZXItdXRpbHMvLi9zcmMvc2NyaXB0TG9hZGVyL2luZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnNvbGUgKi9cbmNsYXNzIExvZ2dlciB7XG4gIHJlYWRvbmx5IGRlYnVnOiB0eXBlb2YgY29uc29sZVsnZGVidWcnXSA9IGNvbnNvbGUuZGVidWc7XG5cbiAgcmVhZG9ubHkgbG9nOiB0eXBlb2YgY29uc29sZVsnbG9nJ10gPSBjb25zb2xlLmxvZztcblxuICByZWFkb25seSB3YXJuOiB0eXBlb2YgY29uc29sZVsnd2FybiddID0gY29uc29sZS53YXJuO1xuXG4gIHJlYWRvbmx5IGluZm86IHR5cGVvZiBjb25zb2xlWydpbmZvJ10gPSBjb25zb2xlLmluZm87XG5cbiAgcmVhZG9ubHkgZXJyb3I6IHR5cGVvZiBjb25zb2xlWydlcnJvciddID0gY29uc29sZS5lcnJvcjtcblxuICByZWFkb25seSB0cmFjZTogdHlwZW9mIGNvbnNvbGVbJ3RyYWNlJ10gPSBjb25zb2xlLnRyYWNlO1xuXG4gIHJlYWRvbmx5IGdyb3VwOiB0eXBlb2YgY29uc29sZVsnZ3JvdXAnXSA9IGNvbnNvbGUuZ3JvdXA7XG5cbiAgcmVhZG9ubHkgZ3JvdXBDb2xsYXBzZWQ6IHR5cGVvZiBjb25zb2xlWydncm91cENvbGxhcHNlZCddID0gY29uc29sZS5ncm91cENvbGxhcHNlZDtcblxuICByZWFkb25seSBncm91cEVuZDogdHlwZW9mIGNvbnNvbGVbJ2dyb3VwRW5kJ10gPSBjb25zb2xlLmdyb3VwRW5kO1xuXG4gIGNvbnN0cnVjdG9yKHRhZzogc3RyaW5nIHwgbnVsbCA9IG51bGwpIHtcbiAgICBjb25zdCBiaW5kZXI6IGFueVtdID0gW107XG5cbiAgICBpZiAodGFnICE9PSBudWxsKSB7XG4gICAgICBiaW5kZXIucHVzaCh0YWcudG9TdHJpbmcoKSk7XG4gICAgfVxuXG4gICAgdGhpcy5kZWJ1ZyA9IGNvbnNvbGUuZGVidWcuYmluZChjb25zb2xlLCAuLi5iaW5kZXIpO1xuICAgIHRoaXMubG9nID0gY29uc29sZS5sb2cuYmluZChjb25zb2xlLCAuLi5iaW5kZXIpO1xuICAgIHRoaXMud2FybiA9IGNvbnNvbGUud2Fybi5iaW5kKGNvbnNvbGUsIC4uLmJpbmRlcik7XG4gICAgdGhpcy5pbmZvID0gY29uc29sZS5pbmZvLmJpbmQoY29uc29sZSwgLi4uYmluZGVyKTtcbiAgICB0aGlzLmVycm9yID0gY29uc29sZS5lcnJvci5iaW5kKGNvbnNvbGUsIC4uLmJpbmRlcik7XG4gICAgdGhpcy50cmFjZSA9IGNvbnNvbGUudHJhY2UuYmluZChjb25zb2xlLCAuLi5iaW5kZXIpO1xuICAgIHRoaXMuZ3JvdXAgPSBjb25zb2xlLmdyb3VwLmJpbmQoY29uc29sZSwgLi4uYmluZGVyKTtcbiAgICB0aGlzLmdyb3VwQ29sbGFwc2VkID0gY29uc29sZS5ncm91cENvbGxhcHNlZC5iaW5kKGNvbnNvbGUsIC4uLmJpbmRlcik7XG4gIH1cbn1cblxuKGdsb2JhbFRoaXMgYXMgYW55KS5Mb2dnZXIgPSBMb2dnZXI7XG5cbmV4cG9ydCBkZWZhdWx0IExvZ2dlcjtcbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiLyoqXG4gKiBSZXR1cm5zIHRleHQgb2YgVVJMLlxuICovXG5hc3luYyBmdW5jdGlvbiBmZXRjaFVybFRleHQodXJsOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4ge1xuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCwge1xuICAgIG1ldGhvZDogJ0dFVCcsXG4gIH0pO1xuXG4gIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IocmVzcG9uc2Uuc3RhdHVzVGV4dCk7XG4gIH1cblxuICByZXR1cm4gcmVzcG9uc2UudGV4dCgpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmZXRjaFVybFRleHQ7XG4iLCJpbXBvcnQgZmV0Y2hVcmxUZXh0IGZyb20gJy4vZmV0Y2hVcmxUZXh0JztcbmltcG9ydCB3YWl0Rm9yUGFnZUxvYWRlZCBmcm9tICcuL3dhaXRGb3JQYWdlTG9hZGVkJztcblxuLyoqXG4gKiBMb2FkcyBzY3JpcHQuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGxvYWRTY3JpcHQoc291cmNlOiBzdHJpbmcsIGxvYWRSYXdUZXh0ID0gZmFsc2UpOiBQcm9taXNlPHZvaWQ+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBjb25zdCBzcmMgPSAoL15cXC4vLnRlc3Qoc291cmNlKVxuICAgICAgPyBgJHtnbG9iYWxUaGlzLmxvY2F0aW9uLmhyZWYucmVwbGFjZSgvXFx3KyhcXC5cXHcrKT8kLywgJycpfSR7c291cmNlfWBcbiAgICAgIDogc291cmNlXG4gICAgKTtcbiAgICBjb25zdCBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcblxuICAgIGlmIChsb2FkUmF3VGV4dCkge1xuICAgICAgZmV0Y2hVcmxUZXh0KHNyYylcbiAgICAgICAgLnRoZW4oKHRleHQpID0+IHtcbiAgICAgICAgICBzY3JpcHQuaW5uZXJIVE1MID0gdGV4dDtcbiAgICAgICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZChzY3JpcHQpO1xuICAgICAgICB9KVxuICAgICAgICAudGhlbihyZXNvbHZlKVxuICAgICAgICAuY2F0Y2gocmVqZWN0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2NyaXB0LnNyYyA9IHNyYztcbiAgICAgIHNjcmlwdC5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICBhd2FpdCB3YWl0Rm9yUGFnZUxvYWRlZCgpO1xuICAgICAgICByZXNvbHZlKCk7XG4gICAgICB9KTtcbiAgICAgIHNjcmlwdC5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsICgpID0+IHtcbiAgICAgICAgc2NyaXB0LnJlbW92ZSgpO1xuICAgICAgICByZWplY3QoKTtcbiAgICAgIH0pO1xuICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmQoc2NyaXB0KTtcbiAgICB9XG4gIH0pO1xufVxuXG5leHBvcnQgZGVmYXVsdCBsb2FkU2NyaXB0O1xuIiwiLyoqXG4gKiBXYWl0cyB1bnRpbCBwYWdlIGlzIGxvYWRlZC5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gd2FpdEZvclBhZ2VMb2FkZWQoKTogUHJvbWlzZTx2b2lkPiB7XG4gIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlID09PSAnY29tcGxldGUnKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICdsb2FkJyxcbiAgICAgICgpID0+IHtcbiAgICAgICAgcmVzb2x2ZSh1bmRlZmluZWQpO1xuICAgICAgfSxcbiAgICAgIHsgb25jZTogdHJ1ZSB9LFxuICAgICk7XG4gIH0pO1xufVxuLyoqXG4gKiBXYWl0cyB1bnRpbCBET00gY29udGVudCBpcyBsb2FkZWQuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB3YWl0Rm9yRE9NQ29udGVudExvYWRlZCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICdjb21wbGV0ZScpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgJ0RPTUNvbnRlbnRMb2FkZWQnLFxuICAgICAgKCkgPT4ge1xuICAgICAgICByZXNvbHZlKHVuZGVmaW5lZCk7XG4gICAgICB9LFxuICAgICAgeyBvbmNlOiB0cnVlIH0sXG4gICAgKTtcbiAgfSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHdhaXRGb3JQYWdlTG9hZGVkO1xuIiwiaW1wb3J0IExvZ2dlciBmcm9tICcuLi9Mb2dnZXInO1xuaW1wb3J0IGxvYWRTY3JpcHQgZnJvbSAnLi4vdXRpbHMvbG9hZFNjcmlwdCc7XG5pbXBvcnQgeyB3YWl0Rm9yRE9NQ29udGVudExvYWRlZCB9IGZyb20gJy4uL3V0aWxzL3dhaXRGb3JQYWdlTG9hZGVkJztcblxuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcignW1NMXScpO1xuY29uc3QgY3VycmVudFNjcmlwdCA9IGRvY3VtZW50LmN1cnJlbnRTY3JpcHQhO1xuY29uc3QgY3VycmVudFJvb3QgPSBjdXJyZW50U2NyaXB0LmdldEF0dHJpYnV0ZSgnc3JjJyk/LnJlcGxhY2UoL1xcdysoXFwuXFx3Kyk/JC8sICcnKTtcbmNvbnN0IGxvYWRFdmVudCA9IGN1cnJlbnRTY3JpcHQuZ2V0QXR0cmlidXRlKCdldmVudDpsb2FkJykgPz8gJ3NjcmlwdGxvYWQnO1xuY29uc3Qgc3R5bGVMb2FkaW5nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbmNvbnN0IGRvbUxvYWRpbmcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbmNvbnN0IGlkTG9hZGluZyA9IGBsb2FkaW5nXyR7RGF0ZS5ub3coKX1gO1xuY29uc3Qgc2V0TG9hZGluZ01lc3NhZ2UgPSAobWVzc2FnZTogc3RyaW5nLCBwcm9ncmVzcz86IG51bWJlcikgPT4ge1xuICBkb21Mb2FkaW5nLnNldEF0dHJpYnV0ZSgnZGF0YS1tZXNzYWdlJywgbWVzc2FnZSk7XG5cbiAgaWYgKHByb2dyZXNzKSB7XG4gICAgY29uc3QgcGVyY2VudGFnZSA9IE1hdGgucm91bmQoMTAwICogcHJvZ3Jlc3MpO1xuXG4gICAgZG9tTG9hZGluZy5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1wcm9ncmVzcycsIGAke3BlcmNlbnRhZ2V9JWApO1xuICB9XG59O1xuY29uc3QgbW9kdWxlcyA9IChjdXJyZW50U2NyaXB0LmdldEF0dHJpYnV0ZSgnbW9kdWxlJykgPz8gJycpXG4gIC5zcGxpdCgvW3w7LFxcc10vKVxuICAubWFwKChzKSA9PiBzLnRyaW0oKSlcbiAgLmZpbHRlcigocykgPT4gcy5sZW5ndGggPiAwKTtcbmNvbnN0IGxvYWROZXh0TW9kdWxlID0gYXN5bmMgKGluZGV4ID0gMCkgPT4ge1xuICBjb25zdCBtb2R1bGUgPSBtb2R1bGVzW2luZGV4XTtcblxuICBpZiAobW9kdWxlKSB7XG4gICAgY29uc3Qgcm9vdCA9ICgvXn4vLnRlc3QobW9kdWxlKVxuICAgICAgPyBgJHtjdXJyZW50Um9vdH0ke21vZHVsZS5yZXBsYWNlKC9eflxcLy8sICcnKX1gXG4gICAgICA6IG1vZHVsZVxuICAgICk7XG4gICAgY29uc3QgZGVmYXVsdFBhdGggPSBgJHtyb290fS5qc2A7XG4gICAgY29uc3QgcHJvZ3Jlc3MgPSAoaW5kZXggKyAxKSAvIG1vZHVsZXMubGVuZ3RoO1xuXG4gICAgbG9nZ2VyLmxvZyhgTG9hZGluZyBzY3JpcHQgcGF0aDogJHtkZWZhdWx0UGF0aH1gKTtcbiAgICBzZXRMb2FkaW5nTWVzc2FnZShgTG9hZGluZyBtb2R1bGU6ICR7bW9kdWxlfWAsIHByb2dyZXNzKTtcblxuICAgIHRyeSB7XG4gICAgICBhd2FpdCBsb2FkU2NyaXB0KGRlZmF1bHRQYXRoKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc3QgYmFja3VwUGF0aCA9IGAke3Jvb3R9L2luZGV4LmpzYDtcblxuICAgICAgbG9nZ2VyLmxvZyhgTG9hZGluZyBmYWlsZWQuIFRyeSB0byBsb2FkIHNjcmlwdCBwYXRoOiAke2JhY2t1cFBhdGh9YCk7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IGxvYWRTY3JpcHQoYmFja3VwUGF0aCk7XG4gICAgICAgIGxvZ2dlci5pbmZvKGBMb2FkZWQgc2NyaXB0OiAke21vZHVsZX1gKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBsb2dnZXIud2FybihgTG9hZGluZyBmYWlsZWQuIFNjcmlwdCBub3QgZm91bmQ6ICR7bW9kdWxlfWApO1xuICAgICAgfVxuICAgIH0gZmluYWxseSB7XG4gICAgICBhd2FpdCBsb2FkTmV4dE1vZHVsZShpbmRleCArIDEpO1xuICAgIH1cbiAgfVxufTtcblxuZG9tTG9hZGluZy5pZCA9IGlkTG9hZGluZztcbnN0eWxlTG9hZGluZy5pbm5lckhUTUwgPSBgXG4gICMke2lkTG9hZGluZ30gfiAqIHtcbiAgICBkaXNwbGF5OiBub25lO1xuICB9XG4gICMke2lkTG9hZGluZ30ge1xuICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICB0b3A6IDA7XG4gICAgcmlnaHQ6IDA7XG4gICAgYm90dG9tOiAwO1xuICAgIGxlZnQ6IDA7XG4gICAgbWFyZ2luOiBhdXRvO1xuICAgIGNvbG9yOiAjMzMzO1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XG4gICAgZm9udC1zaXplOiAxM3B4O1xuICAgIGZvbnQtZmFtaWx5OiBhcmlhbDtcbiAgICBmb250LXdlaWdodDogbm9ybWFsO1xuICAgIGxpbmUtaGVpZ2h0OiAxLjVlbTtcbiAgICBkaXNwbGF5OiBncmlkO1xuICAgIGdyaWQtdGVtcGxhdGUtcm93czogMWZyIHJlcGVhdCgyLCBhdXRvKSAxZnI7XG4gICAgZ3JpZC10ZW1wbGF0ZS1hcmVhczogJ2hlYWQnICdtZXNzYWdlJyAncHJvZ3Jlc3MnICd0YWlsJztcbiAgICBnYXA6IDAuMjVlbTtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGp1c3RpZnktaXRlbXM6IGNlbnRlcjtcbiAgfVxuICAjJHtpZExvYWRpbmd9OjpiZWZvcmUge1xuICAgIGNvbnRlbnQ6IGF0dHIoZGF0YS1tZXNzYWdlKTtcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgICBncmlkLWFyZWE6IG1lc3NhZ2U7XG4gIH1cbiAgIyR7aWRMb2FkaW5nfTo6YWZ0ZXIge1xuICAgIGNvbnRlbnQ6ICcnO1xuICAgIHdpZHRoOiAyMHZ3O1xuICAgIGhlaWdodDogMC44ZW07XG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgICBib3JkZXItcmFkaXVzOiAwLjVlbTtcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjNjY2O1xuICAgIGJhY2tncm91bmQtaW1hZ2U6IGxpbmVhci1ncmFkaWVudCg5MGRlZyxcbiAgICAgICM2YzYgdmFyKC0tcHJvZ3Jlc3MpLFxuICAgICAgdHJhbnNwYXJlbnQgdmFyKC0tcHJvZ3Jlc3MpXG4gICAgKTtcbiAgICBmb250LXNpemU6IDAuNXJlbTtcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgICBncmlkLWFyZWE6IHByb2dyZXNzO1xuICB9XG5gO1xuZG9jdW1lbnQuaGVhZC5hcHBlbmQoc3R5bGVMb2FkaW5nKTtcbndhaXRGb3JET01Db250ZW50TG9hZGVkKClcbiAgLnRoZW4oKCkgPT4ge1xuICAgIGRvY3VtZW50LmJvZHkucHJlcGVuZChkb21Mb2FkaW5nKTtcbiAgfSk7XG5cbmFzeW5jIGZ1bmN0aW9uIG9uTG9hZCgpIHtcbiAgbG9nZ2VyLmxvZygnTG9hZGluZyBtb2R1bGVzJyk7XG4gIGF3YWl0IGxvYWROZXh0TW9kdWxlKCk7XG4gIGxvZ2dlci5pbmZvKCdMb2FkZWQgYWxsIG1vZHVsZXMnKTtcbiAgc2V0TG9hZGluZ01lc3NhZ2UoJ0xvYWRlZCBhbGwgbW9kdWxlcycsIDEpO1xuICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICBkb21Mb2FkaW5nLnJlbW92ZSgpO1xuICAgIHN0eWxlTG9hZGluZy5yZW1vdmUoKTtcbiAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQobG9hZEV2ZW50KSk7XG4gIH0sIDEwMDApO1xufVxuXG5pZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gJ2NvbXBsZXRlJykge1xuICBvbkxvYWQoKTtcbn0gZWxzZSB7XG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgb25Mb2FkKTtcbn1cblxuKGdsb2JhbFRoaXMgYXMgYW55KS5sb2FkU2NyaXB0ID0gbG9hZFNjcmlwdDtcbiJdLCJuYW1lcyI6WyJMb2dnZXIiLCJkZWJ1ZyIsImNvbnNvbGUiLCJsb2ciLCJ3YXJuIiwiaW5mbyIsImVycm9yIiwidHJhY2UiLCJncm91cCIsImdyb3VwQ29sbGFwc2VkIiwiZ3JvdXBFbmQiLCJjb25zdHJ1Y3RvciIsInRhZyIsImJpbmRlciIsInB1c2giLCJ0b1N0cmluZyIsInRoaXMiLCJiaW5kIiwiZ2xvYmFsVGhpcyIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsInVuZGVmaW5lZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiZCIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0Iiwib2JqIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImFzeW5jIiwic291cmNlIiwibG9hZFJhd1RleHQiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInNyYyIsInRlc3QiLCJsb2NhdGlvbiIsImhyZWYiLCJyZXBsYWNlIiwic2NyaXB0IiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwidXJsIiwicmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsIm9rIiwiUmVmZXJlbmNlRXJyb3IiLCJzdGF0dXNUZXh0IiwidGV4dCIsImZldGNoVXJsVGV4dCIsInRoZW4iLCJpbm5lckhUTUwiLCJoZWFkIiwiYXBwZW5kIiwiY2F0Y2giLCJhZGRFdmVudExpc3RlbmVyIiwicmVhZHlTdGF0ZSIsIndpbmRvdyIsIm9uY2UiLCJ3YWl0Rm9yUGFnZUxvYWRlZCIsInJlbW92ZSIsImxvZ2dlciIsImN1cnJlbnRTY3JpcHQiLCJjdXJyZW50Um9vdCIsImdldEF0dHJpYnV0ZSIsImxvYWRFdmVudCIsInN0eWxlTG9hZGluZyIsImRvbUxvYWRpbmciLCJpZExvYWRpbmciLCJEYXRlIiwibm93Iiwic2V0TG9hZGluZ01lc3NhZ2UiLCJtZXNzYWdlIiwicHJvZ3Jlc3MiLCJzZXRBdHRyaWJ1dGUiLCJwZXJjZW50YWdlIiwiTWF0aCIsInJvdW5kIiwic3R5bGUiLCJzZXRQcm9wZXJ0eSIsIm1vZHVsZXMiLCJzcGxpdCIsIm1hcCIsInMiLCJ0cmltIiwiZmlsdGVyIiwibGVuZ3RoIiwibG9hZE5leHRNb2R1bGUiLCJpbmRleCIsInJvb3QiLCJkZWZhdWx0UGF0aCIsImxvYWRTY3JpcHQiLCJiYWNrdXBQYXRoIiwiZXJyIiwib25Mb2FkIiwic2V0VGltZW91dCIsImRpc3BhdGNoRXZlbnQiLCJDdXN0b21FdmVudCIsImlkIiwid2FpdEZvckRPTUNvbnRlbnRMb2FkZWQiLCJib2R5IiwicHJlcGVuZCJdLCJzb3VyY2VSb290IjoiIn0=