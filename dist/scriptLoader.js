(()=>{"use strict";var e={420:(e,n,o)=>{o.d(n,{Z:()=>r});class t{debug=console.debug;log=console.log;warn=console.warn;info=console.info;error=console.error;trace=console.trace;group=console.group;groupCollapsed=console.groupCollapsed;groupEnd=console.groupEnd;constructor(e=null){const n=[];null!==e&&n.push(e.toString()),this.debug=console.debug.bind(console,...n),this.log=console.log.bind(console,...n),this.warn=console.warn.bind(console,...n),this.info=console.info.bind(console,...n),this.error=console.error.bind(console,...n),this.trace=console.trace.bind(console,...n),this.group=console.group.bind(console,...n),this.groupCollapsed=console.groupCollapsed.bind(console,...n)}}globalThis.Logger=t;const r=t}},n={};function o(t){var r=n[t];if(void 0!==r)return r.exports;var a=n[t]={exports:{}};return e[t](a,a.exports,o),a.exports}o.d=(e,n)=>{for(var t in n)o.o(n,t)&&!o.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},o.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),(()=>{var e=o(420);const n=async function(){"complete"!==document.readyState&&await new Promise((e=>{window.addEventListener("load",(()=>{e(void 0)}),{once:!0})}))},t=async function(e,o=!1){return new Promise(((t,r)=>{const a=/^\./.test(e)?`${globalThis.location.href.replace(/\w+(\.\w+)?$/,"")}${e}`:e,s=document.createElement("script");o?async function(e){const n=await fetch(e,{method:"GET"});if(!n.ok)throw new ReferenceError(n.statusText);return n.text()}(a).then((e=>{s.innerHTML=e,document.head.append(s)})).then(t).catch(r):(s.src=a,s.addEventListener("load",(async()=>{await n(),t()})),s.addEventListener("error",(()=>{s.remove(),r()})),document.head.append(s))}))},r=new e.Z("[SL]"),a=document.currentScript,s=a.getAttribute("src")?.replace(/\w+(\.\w+)?$/,""),i=a.getAttribute("event:load")??"scriptload",d=document.createElement("style"),l=document.createElement("div"),c=`loading_${Date.now()}`,p=(e,n)=>{if(l.setAttribute("data-message",e),n){const e=Math.round(100*n);l.style.setProperty("--progress",`${e}%`)}},g=(a.getAttribute("module")??"").split(/[|;,\s]/).map((e=>e.trim())).filter((e=>e.length>0)),u=async(e=0)=>{const n=g[e];if(n){const o=/^~/.test(n)?`${s}${n.replace(/^~\//,"")}`:n,a=`${o}.js`,i=(e+1)/g.length;r.log(`Loading script path: ${a}`),p(`Loading module: ${n}`,i);try{await t(a)}catch(e){const a=`${o}/index.js`;r.log(`Loading failed. Try to load script path: ${a}`);try{await t(a),r.info(`Loaded script: ${n}`)}catch(e){r.warn(`Loading failed. Script not found: ${n}`)}}finally{await u(e+1)}}};async function m(){r.log("Loading modules"),await u(),r.info("Loaded all modules"),p("Loaded all modules",1),setTimeout((()=>{l.remove(),d.remove(),window.dispatchEvent(new CustomEvent(i)),a.remove()}),1e3)}l.id=c,d.innerHTML=`\n  #${c} ~ * {\n    display: none;\n  }\n  #${c} {\n    position: fixed;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    margin: auto;\n    color: #333;\n    background-color: #fff;\n    font-size: 13px;\n    font-family: arial;\n    font-weight: normal;\n    line-height: 1.5em;\n    display: grid;\n    grid-template-rows: 1fr repeat(2, auto) 1fr;\n    grid-template-areas: 'head' 'message' 'progress' 'tail';\n    gap: 0.25em;\n    align-items: center;\n    justify-items: center;\n  }\n  #${c}::before {\n    content: attr(data-message);\n    display: block;\n    grid-area: message;\n  }\n  #${c}::after {\n    content: '';\n    width: 20vw;\n    height: 0.8em;\n    box-sizing: border-box;\n    border-radius: 0.5em;\n    border: 1px solid #666;\n    background-image: linear-gradient(90deg,\n      #6c6 var(--progress),\n      transparent var(--progress)\n    );\n    font-size: 0.5rem;\n    display: block;\n    grid-area: progress;\n  }\n`,document.head.append(d),n().then((()=>{document.body.prepend(l)})),"complete"===document.readyState?m():window.addEventListener("load",m),globalThis.loadScript=t})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SyxzQkFDWitFLEVBQWtCLHFCQUFzQixHQUN4Q3dCLFlBQVcsS0FDVDVCLEVBQVdQLFNBQ1hNLEVBQWFOLFNBQ2I1QixPQUFPZ0UsY0FBYyxJQUFJQyxZQUFZaEMsSUFDckNILEVBQWNGLFdBQ2IsS0E5RExPLEVBQVcrQixHQUFLOUIsRUFDaEJGLEVBQWFYLFVBQWEsUUFDckJhLHdDQUdBQSxnZEFvQkFBLHdHQUtBQSw4VkFnQkx4QyxTQUFTNEIsS0FBS0MsT0FBT1MsR0FDckJQLElBQ0dMLE1BQUssS0FDSjFCLFNBQVN1RSxLQUFLQyxRQUFRakMsTUFnQkUsYUFBeEJ2QyxTQUFTQyxXQUNYaUUsSUFFQTlELE9BQU9DLGlCQUFpQixPQUFRNkQsR0FHakN6RixXQUFtQnNGLFdBQWFBLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AbGYyY29tL2Jyb3dzZXItdXRpbHMvLi9zcmMvTG9nZ2VyLnRzIiwid2VicGFjazovL0BsZjJjb20vYnJvd3Nlci11dGlscy93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9AbGYyY29tL2Jyb3dzZXItdXRpbHMvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL0BsZjJjb20vYnJvd3Nlci11dGlscy93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL0BsZjJjb20vYnJvd3Nlci11dGlscy8uL3NyYy91dGlscy9mZXRjaFVybFRleHQudHMiLCJ3ZWJwYWNrOi8vQGxmMmNvbS9icm93c2VyLXV0aWxzLy4vc3JjL3V0aWxzL3dhaXRGb3JQYWdlTG9hZGVkLnRzIiwid2VicGFjazovL0BsZjJjb20vYnJvd3Nlci11dGlscy8uL3NyYy91dGlscy9sb2FkU2NyaXB0LnRzIiwid2VicGFjazovL0BsZjJjb20vYnJvd3Nlci11dGlscy8uL3NyYy9zY3JpcHRMb2FkZXIvaW5kZXgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSAqL1xuY2xhc3MgTG9nZ2VyIHtcbiAgcmVhZG9ubHkgZGVidWc6IHR5cGVvZiBjb25zb2xlWydkZWJ1ZyddID0gY29uc29sZS5kZWJ1ZztcblxuICByZWFkb25seSBsb2c6IHR5cGVvZiBjb25zb2xlWydsb2cnXSA9IGNvbnNvbGUubG9nO1xuXG4gIHJlYWRvbmx5IHdhcm46IHR5cGVvZiBjb25zb2xlWyd3YXJuJ10gPSBjb25zb2xlLndhcm47XG5cbiAgcmVhZG9ubHkgaW5mbzogdHlwZW9mIGNvbnNvbGVbJ2luZm8nXSA9IGNvbnNvbGUuaW5mbztcblxuICByZWFkb25seSBlcnJvcjogdHlwZW9mIGNvbnNvbGVbJ2Vycm9yJ10gPSBjb25zb2xlLmVycm9yO1xuXG4gIHJlYWRvbmx5IHRyYWNlOiB0eXBlb2YgY29uc29sZVsndHJhY2UnXSA9IGNvbnNvbGUudHJhY2U7XG5cbiAgcmVhZG9ubHkgZ3JvdXA6IHR5cGVvZiBjb25zb2xlWydncm91cCddID0gY29uc29sZS5ncm91cDtcblxuICByZWFkb25seSBncm91cENvbGxhcHNlZDogdHlwZW9mIGNvbnNvbGVbJ2dyb3VwQ29sbGFwc2VkJ10gPSBjb25zb2xlLmdyb3VwQ29sbGFwc2VkO1xuXG4gIHJlYWRvbmx5IGdyb3VwRW5kOiB0eXBlb2YgY29uc29sZVsnZ3JvdXBFbmQnXSA9IGNvbnNvbGUuZ3JvdXBFbmQ7XG5cbiAgY29uc3RydWN0b3IodGFnOiBzdHJpbmcgfCBudWxsID0gbnVsbCkge1xuICAgIGNvbnN0IGJpbmRlcjogYW55W10gPSBbXTtcblxuICAgIGlmICh0YWcgIT09IG51bGwpIHtcbiAgICAgIGJpbmRlci5wdXNoKHRhZy50b1N0cmluZygpKTtcbiAgICB9XG5cbiAgICB0aGlzLmRlYnVnID0gY29uc29sZS5kZWJ1Zy5iaW5kKGNvbnNvbGUsIC4uLmJpbmRlcik7XG4gICAgdGhpcy5sb2cgPSBjb25zb2xlLmxvZy5iaW5kKGNvbnNvbGUsIC4uLmJpbmRlcik7XG4gICAgdGhpcy53YXJuID0gY29uc29sZS53YXJuLmJpbmQoY29uc29sZSwgLi4uYmluZGVyKTtcbiAgICB0aGlzLmluZm8gPSBjb25zb2xlLmluZm8uYmluZChjb25zb2xlLCAuLi5iaW5kZXIpO1xuICAgIHRoaXMuZXJyb3IgPSBjb25zb2xlLmVycm9yLmJpbmQoY29uc29sZSwgLi4uYmluZGVyKTtcbiAgICB0aGlzLnRyYWNlID0gY29uc29sZS50cmFjZS5iaW5kKGNvbnNvbGUsIC4uLmJpbmRlcik7XG4gICAgdGhpcy5ncm91cCA9IGNvbnNvbGUuZ3JvdXAuYmluZChjb25zb2xlLCAuLi5iaW5kZXIpO1xuICAgIHRoaXMuZ3JvdXBDb2xsYXBzZWQgPSBjb25zb2xlLmdyb3VwQ29sbGFwc2VkLmJpbmQoY29uc29sZSwgLi4uYmluZGVyKTtcbiAgfVxufVxuXG4oZ2xvYmFsVGhpcyBhcyBhbnkpLkxvZ2dlciA9IExvZ2dlcjtcblxuZXhwb3J0IGRlZmF1bHQgTG9nZ2VyO1xuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvKipcbiAqIFJldHVybnMgdGV4dCBvZiBVUkwuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGZldGNoVXJsVGV4dCh1cmw6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiB7XG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsLCB7XG4gICAgbWV0aG9kOiAnR0VUJyxcbiAgfSk7XG5cbiAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihyZXNwb25zZS5zdGF0dXNUZXh0KTtcbiAgfVxuXG4gIHJldHVybiByZXNwb25zZS50ZXh0KCk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZldGNoVXJsVGV4dDtcbiIsIi8qKlxuICogV2FpdHMgdW50aWwgcGFnZSBpcyBsb2FkZWQuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIHdhaXRGb3JQYWdlTG9hZGVkKCk6IFByb21pc2U8dm9pZD4ge1xuICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gJ2NvbXBsZXRlJykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAnbG9hZCcsXG4gICAgICAoKSA9PiB7XG4gICAgICAgIHJlc29sdmUodW5kZWZpbmVkKTtcbiAgICAgIH0sXG4gICAgICB7IG9uY2U6IHRydWUgfSxcbiAgICApO1xuICB9KTtcbn1cbi8qKlxuICogV2FpdHMgdW50aWwgRE9NIGNvbnRlbnQgaXMgbG9hZGVkLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gd2FpdEZvckRPTUNvbnRlbnRMb2FkZWQoKTogUHJvbWlzZTx2b2lkPiB7XG4gIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlID09PSAnY29tcGxldGUnKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICdET01Db250ZW50TG9hZGVkJyxcbiAgICAgICgpID0+IHtcbiAgICAgICAgcmVzb2x2ZSh1bmRlZmluZWQpO1xuICAgICAgfSxcbiAgICAgIHsgb25jZTogdHJ1ZSB9LFxuICAgICk7XG4gIH0pO1xufVxuXG5leHBvcnQgZGVmYXVsdCB3YWl0Rm9yUGFnZUxvYWRlZDtcbiIsImltcG9ydCBmZXRjaFVybFRleHQgZnJvbSAnLi9mZXRjaFVybFRleHQnO1xuaW1wb3J0IHdhaXRGb3JQYWdlTG9hZGVkIGZyb20gJy4vd2FpdEZvclBhZ2VMb2FkZWQnO1xuXG4vKipcbiAqIExvYWRzIHNjcmlwdC5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gbG9hZFNjcmlwdChzb3VyY2U6IHN0cmluZywgbG9hZFJhd1RleHQgPSBmYWxzZSk6IFByb21pc2U8dm9pZD4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGNvbnN0IHNyYyA9ICgvXlxcLi8udGVzdChzb3VyY2UpXG4gICAgICA/IGAke2dsb2JhbFRoaXMubG9jYXRpb24uaHJlZi5yZXBsYWNlKC9cXHcrKFxcLlxcdyspPyQvLCAnJyl9JHtzb3VyY2V9YFxuICAgICAgOiBzb3VyY2VcbiAgICApO1xuICAgIGNvbnN0IHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuXG4gICAgaWYgKGxvYWRSYXdUZXh0KSB7XG4gICAgICBmZXRjaFVybFRleHQoc3JjKVxuICAgICAgICAudGhlbigodGV4dCkgPT4ge1xuICAgICAgICAgIHNjcmlwdC5pbm5lckhUTUwgPSB0ZXh0O1xuICAgICAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kKHNjcmlwdCk7XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKHJlc29sdmUpXG4gICAgICAgIC5jYXRjaChyZWplY3QpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzY3JpcHQuc3JjID0gc3JjO1xuICAgICAgc2NyaXB0LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGF3YWl0IHdhaXRGb3JQYWdlTG9hZGVkKCk7XG4gICAgICAgIHJlc29sdmUoKTtcbiAgICAgIH0pO1xuICAgICAgc2NyaXB0LmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgKCkgPT4ge1xuICAgICAgICBzY3JpcHQucmVtb3ZlKCk7XG4gICAgICAgIHJlamVjdCgpO1xuICAgICAgfSk7XG4gICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZChzY3JpcHQpO1xuICAgIH1cbiAgfSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGxvYWRTY3JpcHQ7XG4iLCJpbXBvcnQgTG9nZ2VyIGZyb20gJy4uL0xvZ2dlcic7XG5pbXBvcnQgbG9hZFNjcmlwdCBmcm9tICcuLi91dGlscy9sb2FkU2NyaXB0JztcbmltcG9ydCB3YWl0Rm9yUGFnZUxvYWRlZCBmcm9tICcuLi91dGlscy93YWl0Rm9yUGFnZUxvYWRlZCc7XG5cbmNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIoJ1tTTF0nKTtcbmNvbnN0IGN1cnJlbnRTY3JpcHQgPSBkb2N1bWVudC5jdXJyZW50U2NyaXB0ITtcbmNvbnN0IGN1cnJlbnRSb290ID0gY3VycmVudFNjcmlwdC5nZXRBdHRyaWJ1dGUoJ3NyYycpPy5yZXBsYWNlKC9cXHcrKFxcLlxcdyspPyQvLCAnJyk7XG5jb25zdCBsb2FkRXZlbnQgPSBjdXJyZW50U2NyaXB0LmdldEF0dHJpYnV0ZSgnZXZlbnQ6bG9hZCcpID8/ICdzY3JpcHRsb2FkJztcbmNvbnN0IHN0eWxlTG9hZGluZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG5jb25zdCBkb21Mb2FkaW5nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5jb25zdCBpZExvYWRpbmcgPSBgbG9hZGluZ18ke0RhdGUubm93KCl9YDtcbmNvbnN0IHNldExvYWRpbmdNZXNzYWdlID0gKG1lc3NhZ2U6IHN0cmluZywgcHJvZ3Jlc3M/OiBudW1iZXIpID0+IHtcbiAgZG9tTG9hZGluZy5zZXRBdHRyaWJ1dGUoJ2RhdGEtbWVzc2FnZScsIG1lc3NhZ2UpO1xuXG4gIGlmIChwcm9ncmVzcykge1xuICAgIGNvbnN0IHBlcmNlbnRhZ2UgPSBNYXRoLnJvdW5kKDEwMCAqIHByb2dyZXNzKTtcblxuICAgIGRvbUxvYWRpbmcuc3R5bGUuc2V0UHJvcGVydHkoJy0tcHJvZ3Jlc3MnLCBgJHtwZXJjZW50YWdlfSVgKTtcbiAgfVxufTtcbmNvbnN0IG1vZHVsZXMgPSAoY3VycmVudFNjcmlwdC5nZXRBdHRyaWJ1dGUoJ21vZHVsZScpID8/ICcnKVxuICAuc3BsaXQoL1t8OyxcXHNdLylcbiAgLm1hcCgocykgPT4gcy50cmltKCkpXG4gIC5maWx0ZXIoKHMpID0+IHMubGVuZ3RoID4gMCk7XG5jb25zdCBsb2FkTmV4dE1vZHVsZSA9IGFzeW5jIChpbmRleCA9IDApID0+IHtcbiAgY29uc3QgbW9kdWxlID0gbW9kdWxlc1tpbmRleF07XG5cbiAgaWYgKG1vZHVsZSkge1xuICAgIGNvbnN0IHJvb3QgPSAoL15+Ly50ZXN0KG1vZHVsZSlcbiAgICAgID8gYCR7Y3VycmVudFJvb3R9JHttb2R1bGUucmVwbGFjZSgvXn5cXC8vLCAnJyl9YFxuICAgICAgOiBtb2R1bGVcbiAgICApO1xuICAgIGNvbnN0IGRlZmF1bHRQYXRoID0gYCR7cm9vdH0uanNgO1xuICAgIGNvbnN0IHByb2dyZXNzID0gKGluZGV4ICsgMSkgLyBtb2R1bGVzLmxlbmd0aDtcblxuICAgIGxvZ2dlci5sb2coYExvYWRpbmcgc2NyaXB0IHBhdGg6ICR7ZGVmYXVsdFBhdGh9YCk7XG4gICAgc2V0TG9hZGluZ01lc3NhZ2UoYExvYWRpbmcgbW9kdWxlOiAke21vZHVsZX1gLCBwcm9ncmVzcyk7XG5cbiAgICB0cnkge1xuICAgICAgYXdhaXQgbG9hZFNjcmlwdChkZWZhdWx0UGF0aCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnN0IGJhY2t1cFBhdGggPSBgJHtyb290fS9pbmRleC5qc2A7XG5cbiAgICAgIGxvZ2dlci5sb2coYExvYWRpbmcgZmFpbGVkLiBUcnkgdG8gbG9hZCBzY3JpcHQgcGF0aDogJHtiYWNrdXBQYXRofWApO1xuXG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBsb2FkU2NyaXB0KGJhY2t1cFBhdGgpO1xuICAgICAgICBsb2dnZXIuaW5mbyhgTG9hZGVkIHNjcmlwdDogJHttb2R1bGV9YCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgbG9nZ2VyLndhcm4oYExvYWRpbmcgZmFpbGVkLiBTY3JpcHQgbm90IGZvdW5kOiAke21vZHVsZX1gKTtcbiAgICAgIH1cbiAgICB9IGZpbmFsbHkge1xuICAgICAgYXdhaXQgbG9hZE5leHRNb2R1bGUoaW5kZXggKyAxKTtcbiAgICB9XG4gIH1cbn07XG5cbmRvbUxvYWRpbmcuaWQgPSBpZExvYWRpbmc7XG5zdHlsZUxvYWRpbmcuaW5uZXJIVE1MID0gYFxuICAjJHtpZExvYWRpbmd9IH4gKiB7XG4gICAgZGlzcGxheTogbm9uZTtcbiAgfVxuICAjJHtpZExvYWRpbmd9IHtcbiAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgdG9wOiAwO1xuICAgIHJpZ2h0OiAwO1xuICAgIGJvdHRvbTogMDtcbiAgICBsZWZ0OiAwO1xuICAgIG1hcmdpbjogYXV0bztcbiAgICBjb2xvcjogIzMzMztcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xuICAgIGZvbnQtc2l6ZTogMTNweDtcbiAgICBmb250LWZhbWlseTogYXJpYWw7XG4gICAgZm9udC13ZWlnaHQ6IG5vcm1hbDtcbiAgICBsaW5lLWhlaWdodDogMS41ZW07XG4gICAgZGlzcGxheTogZ3JpZDtcbiAgICBncmlkLXRlbXBsYXRlLXJvd3M6IDFmciByZXBlYXQoMiwgYXV0bykgMWZyO1xuICAgIGdyaWQtdGVtcGxhdGUtYXJlYXM6ICdoZWFkJyAnbWVzc2FnZScgJ3Byb2dyZXNzJyAndGFpbCc7XG4gICAgZ2FwOiAwLjI1ZW07XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBqdXN0aWZ5LWl0ZW1zOiBjZW50ZXI7XG4gIH1cbiAgIyR7aWRMb2FkaW5nfTo6YmVmb3JlIHtcbiAgICBjb250ZW50OiBhdHRyKGRhdGEtbWVzc2FnZSk7XG4gICAgZGlzcGxheTogYmxvY2s7XG4gICAgZ3JpZC1hcmVhOiBtZXNzYWdlO1xuICB9XG4gICMke2lkTG9hZGluZ306OmFmdGVyIHtcbiAgICBjb250ZW50OiAnJztcbiAgICB3aWR0aDogMjB2dztcbiAgICBoZWlnaHQ6IDAuOGVtO1xuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gICAgYm9yZGVyLXJhZGl1czogMC41ZW07XG4gICAgYm9yZGVyOiAxcHggc29saWQgIzY2NjtcbiAgICBiYWNrZ3JvdW5kLWltYWdlOiBsaW5lYXItZ3JhZGllbnQoOTBkZWcsXG4gICAgICAjNmM2IHZhcigtLXByb2dyZXNzKSxcbiAgICAgIHRyYW5zcGFyZW50IHZhcigtLXByb2dyZXNzKVxuICAgICk7XG4gICAgZm9udC1zaXplOiAwLjVyZW07XG4gICAgZGlzcGxheTogYmxvY2s7XG4gICAgZ3JpZC1hcmVhOiBwcm9ncmVzcztcbiAgfVxuYDtcbmRvY3VtZW50LmhlYWQuYXBwZW5kKHN0eWxlTG9hZGluZyk7XG53YWl0Rm9yUGFnZUxvYWRlZCgpXG4gIC50aGVuKCgpID0+IHtcbiAgICBkb2N1bWVudC5ib2R5LnByZXBlbmQoZG9tTG9hZGluZyk7XG4gIH0pO1xuXG5hc3luYyBmdW5jdGlvbiBvbkxvYWQoKSB7XG4gIGxvZ2dlci5sb2coJ0xvYWRpbmcgbW9kdWxlcycpO1xuICBhd2FpdCBsb2FkTmV4dE1vZHVsZSgpO1xuICBsb2dnZXIuaW5mbygnTG9hZGVkIGFsbCBtb2R1bGVzJyk7XG4gIHNldExvYWRpbmdNZXNzYWdlKCdMb2FkZWQgYWxsIG1vZHVsZXMnLCAxKTtcbiAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgZG9tTG9hZGluZy5yZW1vdmUoKTtcbiAgICBzdHlsZUxvYWRpbmcucmVtb3ZlKCk7XG4gICAgd2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KGxvYWRFdmVudCkpO1xuICAgIGN1cnJlbnRTY3JpcHQucmVtb3ZlKCk7XG4gIH0sIDEwMDApO1xufVxuXG5pZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gJ2NvbXBsZXRlJykge1xuICBvbkxvYWQoKTtcbn0gZWxzZSB7XG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgb25Mb2FkKTtcbn1cblxuKGdsb2JhbFRoaXMgYXMgYW55KS5sb2FkU2NyaXB0ID0gbG9hZFNjcmlwdDtcbiJdLCJuYW1lcyI6WyJMb2dnZXIiLCJkZWJ1ZyIsImNvbnNvbGUiLCJsb2ciLCJ3YXJuIiwiaW5mbyIsImVycm9yIiwidHJhY2UiLCJncm91cCIsImdyb3VwQ29sbGFwc2VkIiwiZ3JvdXBFbmQiLCJjb25zdHJ1Y3RvciIsInRhZyIsImJpbmRlciIsInB1c2giLCJ0b1N0cmluZyIsInRoaXMiLCJiaW5kIiwiZ2xvYmFsVGhpcyIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsInVuZGVmaW5lZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiZCIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0Iiwib2JqIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImFzeW5jIiwiZG9jdW1lbnQiLCJyZWFkeVN0YXRlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwib25jZSIsInNvdXJjZSIsImxvYWRSYXdUZXh0IiwicmVqZWN0Iiwic3JjIiwidGVzdCIsImxvY2F0aW9uIiwiaHJlZiIsInJlcGxhY2UiLCJzY3JpcHQiLCJjcmVhdGVFbGVtZW50IiwidXJsIiwicmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsIm9rIiwiUmVmZXJlbmNlRXJyb3IiLCJzdGF0dXNUZXh0IiwidGV4dCIsImZldGNoVXJsVGV4dCIsInRoZW4iLCJpbm5lckhUTUwiLCJoZWFkIiwiYXBwZW5kIiwiY2F0Y2giLCJ3YWl0Rm9yUGFnZUxvYWRlZCIsInJlbW92ZSIsImxvZ2dlciIsImN1cnJlbnRTY3JpcHQiLCJjdXJyZW50Um9vdCIsImdldEF0dHJpYnV0ZSIsImxvYWRFdmVudCIsInN0eWxlTG9hZGluZyIsImRvbUxvYWRpbmciLCJpZExvYWRpbmciLCJEYXRlIiwibm93Iiwic2V0TG9hZGluZ01lc3NhZ2UiLCJtZXNzYWdlIiwicHJvZ3Jlc3MiLCJzZXRBdHRyaWJ1dGUiLCJwZXJjZW50YWdlIiwiTWF0aCIsInJvdW5kIiwic3R5bGUiLCJzZXRQcm9wZXJ0eSIsIm1vZHVsZXMiLCJzcGxpdCIsIm1hcCIsInMiLCJ0cmltIiwiZmlsdGVyIiwibGVuZ3RoIiwibG9hZE5leHRNb2R1bGUiLCJpbmRleCIsInJvb3QiLCJkZWZhdWx0UGF0aCIsImxvYWRTY3JpcHQiLCJiYWNrdXBQYXRoIiwiZXJyIiwib25Mb2FkIiwic2V0VGltZW91dCIsImRpc3BhdGNoRXZlbnQiLCJDdXN0b21FdmVudCIsImlkIiwiYm9keSIsInByZXBlbmQiXSwic291cmNlUm9vdCI6IiJ9