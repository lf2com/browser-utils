(()=>{"use strict";var e={420:(e,o,t)=>{t.d(o,{Z:()=>r});class n{debug=console.debug;log=console.log;warn=console.warn;info=console.info;error=console.error;trace=console.trace;group=console.group;groupCollapsed=console.groupCollapsed;groupEnd=console.groupEnd;constructor(e=null){const o=[];null!==e&&o.push(e.toString()),this.debug=console.debug.bind(console,...o),this.log=console.log.bind(console,...o),this.warn=console.warn.bind(console,...o),this.info=console.info.bind(console,...o),this.error=console.error.bind(console,...o),this.trace=console.trace.bind(console,...o),this.group=console.group.bind(console,...o),this.groupCollapsed=console.groupCollapsed.bind(console,...o)}}globalThis.Logger=n;const r=n}},o={};function t(n){var r=o[n];if(void 0!==r)return r.exports;var s=o[n]={exports:{}};return e[n](s,s.exports,t),s.exports}t.d=(e,o)=>{for(var n in o)t.o(o,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:o[n]})},t.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),(()=>{var e=t(420);const o=async function(e){const o=await fetch(e,{method:"GET"});if(!o.ok)throw new ReferenceError(o.statusText);return o.text()},n=async function(){"complete"!==document.readyState&&await new Promise((e=>{window.addEventListener("load",(()=>{e(void 0)}),{once:!0})}))},r="https://cdn.jsdelivr.net/gh/Microsoft/TypeScript@latest/lib/typescriptServices.js",s=new e.Z("[TS]");s.log(`Loading TypeScript: ${r}`),async function(e,t=!1){return new Promise(((r,s)=>{const c=/^\./.test(e)?`${globalThis.location.href.replace(/\w+(\.\w+)?$/,"")}${e}`:e,i=document.createElement("script");console.log(`\`- source: ${e}`),console.log(`\`- src: ${c}`),t?o(c).then((e=>{i.innerHTML=e,document.head.append(i)})).then(r).catch(s):(i.src=c,i.addEventListener("load",(async()=>{await n(),r()})),i.addEventListener("error",(()=>{i.remove(),s()})),document.head.append(i))}))}(r).then(n).then((async()=>{const{ts:e}=window;if(!e)throw new ReferenceError("ts is not defined");const{transpile:t}=e;if(!t)throw new ReferenceError("ts.transpile is not defined");const n=async e=>{if(!(e instanceof HTMLScriptElement))return;if(!/^text\/typescript$/.test(e.type)&&!/\.ts$/i.test(e.src))return;s.log("Transpiling typescript");const{src:n}=e,r=(n.length>0?await o(n):e.innerHTML).trim(),c=t(r),i=document.createElement("script");i.innerHTML=c,e.replaceWith(i),s.info("Transpiled")};s.info("Loaded TypeScript. Starting to transpile..."),await Array.from(document.getElementsByTagName("script")).filter((e=>/^text\/typescript$/.test(e.type)||/\.ts$/i.test(e.src))).reduce((async(e,o,t,r)=>{await e;try{s.log(`Transpiling ${t+1} / ${r.length}`),n(o)}catch(e){const{message:o}=e;s.warn(`Transpiling failed: ${o}`)}}),Promise.resolve()),s.info("Transpiled all scripts"),new MutationObserver((e=>{e.forEach((e=>{e.addedNodes.forEach((e=>{n(e)}))}))})).observe(document,{childList:!0,subtree:!0})})).catch((e=>{const o=e?.message??"Not found";s.warn(`Loading TypeScript failed: ${o}`)})).finally((()=>{s.log("End of TypeScript")}))})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFVQyxTQUFTQyxJQUNqQkEsRUFBU0MsV0FBV0YsU0FBU0csSUFDM0J4QixFQUFLd0IsWUFJUkMsUUFBUXZELFNBQVUsQ0FDakJ3RCxXQUFXLEVBQ1hDLFNBQVMsT0FHZGpDLE9BQU9uRSxJQUNOLE1BQU1xRyxFQUFTckcsR0FBTzJGLFNBQVcsWUFFakN4QyxFQUFPckQsS0FBTSw4QkFBNkJ1RyxRQUUzQ0MsU0FBUSxLQUNQbkQsRUFBT3RELElBQUkseUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AbGYyY29tL2Jyb3dzZXItdXRpbHMvLi9zcmMvTG9nZ2VyLnRzIiwid2VicGFjazovL0BsZjJjb20vYnJvd3Nlci11dGlscy93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9AbGYyY29tL2Jyb3dzZXItdXRpbHMvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL0BsZjJjb20vYnJvd3Nlci11dGlscy93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL0BsZjJjb20vYnJvd3Nlci11dGlscy8uL3NyYy91dGlscy9mZXRjaFVybFRleHQudHMiLCJ3ZWJwYWNrOi8vQGxmMmNvbS9icm93c2VyLXV0aWxzLy4vc3JjL3V0aWxzL3dhaXRGb3JQYWdlTG9hZGVkLnRzIiwid2VicGFjazovL0BsZjJjb20vYnJvd3Nlci11dGlscy8uL3NyYy90eXBlc2NyaXB0L2luZGV4LnRzIiwid2VicGFjazovL0BsZjJjb20vYnJvd3Nlci11dGlscy8uL3NyYy91dGlscy9sb2FkU2NyaXB0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnNvbGUgKi9cbmNsYXNzIExvZ2dlciB7XG4gIHJlYWRvbmx5IGRlYnVnOiB0eXBlb2YgY29uc29sZVsnZGVidWcnXSA9IGNvbnNvbGUuZGVidWc7XG5cbiAgcmVhZG9ubHkgbG9nOiB0eXBlb2YgY29uc29sZVsnbG9nJ10gPSBjb25zb2xlLmxvZztcblxuICByZWFkb25seSB3YXJuOiB0eXBlb2YgY29uc29sZVsnd2FybiddID0gY29uc29sZS53YXJuO1xuXG4gIHJlYWRvbmx5IGluZm86IHR5cGVvZiBjb25zb2xlWydpbmZvJ10gPSBjb25zb2xlLmluZm87XG5cbiAgcmVhZG9ubHkgZXJyb3I6IHR5cGVvZiBjb25zb2xlWydlcnJvciddID0gY29uc29sZS5lcnJvcjtcblxuICByZWFkb25seSB0cmFjZTogdHlwZW9mIGNvbnNvbGVbJ3RyYWNlJ10gPSBjb25zb2xlLnRyYWNlO1xuXG4gIHJlYWRvbmx5IGdyb3VwOiB0eXBlb2YgY29uc29sZVsnZ3JvdXAnXSA9IGNvbnNvbGUuZ3JvdXA7XG5cbiAgcmVhZG9ubHkgZ3JvdXBDb2xsYXBzZWQ6IHR5cGVvZiBjb25zb2xlWydncm91cENvbGxhcHNlZCddID0gY29uc29sZS5ncm91cENvbGxhcHNlZDtcblxuICByZWFkb25seSBncm91cEVuZDogdHlwZW9mIGNvbnNvbGVbJ2dyb3VwRW5kJ10gPSBjb25zb2xlLmdyb3VwRW5kO1xuXG4gIGNvbnN0cnVjdG9yKHRhZzogc3RyaW5nIHwgbnVsbCA9IG51bGwpIHtcbiAgICBjb25zdCBiaW5kZXI6IGFueVtdID0gW107XG5cbiAgICBpZiAodGFnICE9PSBudWxsKSB7XG4gICAgICBiaW5kZXIucHVzaCh0YWcudG9TdHJpbmcoKSk7XG4gICAgfVxuXG4gICAgdGhpcy5kZWJ1ZyA9IGNvbnNvbGUuZGVidWcuYmluZChjb25zb2xlLCAuLi5iaW5kZXIpO1xuICAgIHRoaXMubG9nID0gY29uc29sZS5sb2cuYmluZChjb25zb2xlLCAuLi5iaW5kZXIpO1xuICAgIHRoaXMud2FybiA9IGNvbnNvbGUud2Fybi5iaW5kKGNvbnNvbGUsIC4uLmJpbmRlcik7XG4gICAgdGhpcy5pbmZvID0gY29uc29sZS5pbmZvLmJpbmQoY29uc29sZSwgLi4uYmluZGVyKTtcbiAgICB0aGlzLmVycm9yID0gY29uc29sZS5lcnJvci5iaW5kKGNvbnNvbGUsIC4uLmJpbmRlcik7XG4gICAgdGhpcy50cmFjZSA9IGNvbnNvbGUudHJhY2UuYmluZChjb25zb2xlLCAuLi5iaW5kZXIpO1xuICAgIHRoaXMuZ3JvdXAgPSBjb25zb2xlLmdyb3VwLmJpbmQoY29uc29sZSwgLi4uYmluZGVyKTtcbiAgICB0aGlzLmdyb3VwQ29sbGFwc2VkID0gY29uc29sZS5ncm91cENvbGxhcHNlZC5iaW5kKGNvbnNvbGUsIC4uLmJpbmRlcik7XG4gIH1cbn1cblxuKGdsb2JhbFRoaXMgYXMgYW55KS5Mb2dnZXIgPSBMb2dnZXI7XG5cbmV4cG9ydCBkZWZhdWx0IExvZ2dlcjtcbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiLyoqXG4gKiBSZXR1cm5zIHRleHQgb2YgVVJMLlxuICovXG5hc3luYyBmdW5jdGlvbiBmZXRjaFVybFRleHQodXJsOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4ge1xuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCwge1xuICAgIG1ldGhvZDogJ0dFVCcsXG4gIH0pO1xuXG4gIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IocmVzcG9uc2Uuc3RhdHVzVGV4dCk7XG4gIH1cblxuICByZXR1cm4gcmVzcG9uc2UudGV4dCgpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmZXRjaFVybFRleHQ7XG4iLCIvKipcbiAqIFdhaXRzIHVudGlsIHBhZ2UgaXMgbG9hZGVkLlxuICovXG5hc3luYyBmdW5jdGlvbiB3YWl0Rm9yUGFnZUxvYWRlZCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICdjb21wbGV0ZScpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgJ2xvYWQnLFxuICAgICAgKCkgPT4ge1xuICAgICAgICByZXNvbHZlKHVuZGVmaW5lZCk7XG4gICAgICB9LFxuICAgICAgeyBvbmNlOiB0cnVlIH0sXG4gICAgKTtcbiAgfSk7XG59XG4vKipcbiAqIFdhaXRzIHVudGlsIERPTSBjb250ZW50IGlzIGxvYWRlZC5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHdhaXRGb3JET01Db250ZW50TG9hZGVkKCk6IFByb21pc2U8dm9pZD4ge1xuICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gJ2NvbXBsZXRlJykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAnRE9NQ29udGVudExvYWRlZCcsXG4gICAgICAoKSA9PiB7XG4gICAgICAgIHJlc29sdmUodW5kZWZpbmVkKTtcbiAgICAgIH0sXG4gICAgICB7IG9uY2U6IHRydWUgfSxcbiAgICApO1xuICB9KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgd2FpdEZvclBhZ2VMb2FkZWQ7XG4iLCJpbXBvcnQgTG9nZ2VyIGZyb20gJy4uL0xvZ2dlcic7XG5pbXBvcnQgZmV0Y2hVcmxUZXh0IGZyb20gJy4uL3V0aWxzL2ZldGNoVXJsVGV4dCc7XG5pbXBvcnQgbG9hZFNjcmlwdCBmcm9tICcuLi91dGlscy9sb2FkU2NyaXB0JztcbmltcG9ydCB3YWl0Rm9yUGFnZUxvYWRlZCBmcm9tICcuLi91dGlscy93YWl0Rm9yUGFnZUxvYWRlZCc7XG5cbmNvbnN0IHRzUGF0aCA9ICdodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvZ2gvTWljcm9zb2Z0L1R5cGVTY3JpcHRAbGF0ZXN0L2xpYi90eXBlc2NyaXB0U2VydmljZXMuanMnO1xuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcignW1RTXScpO1xuXG5sb2dnZXIubG9nKGBMb2FkaW5nIFR5cGVTY3JpcHQ6ICR7dHNQYXRofWApO1xubG9hZFNjcmlwdCh0c1BhdGgpXG4gIC50aGVuKHdhaXRGb3JQYWdlTG9hZGVkKVxuICAudGhlbihhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgeyB0cyB9ID0gd2luZG93IGFzIGFueTtcblxuICAgIGlmICghdHMpIHtcbiAgICAgIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcigndHMgaXMgbm90IGRlZmluZWQnKTtcbiAgICB9XG5cbiAgICBjb25zdCB7IHRyYW5zcGlsZSB9ID0gdHM7XG5cbiAgICBpZiAoIXRyYW5zcGlsZSkge1xuICAgICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCd0cy50cmFuc3BpbGUgaXMgbm90IGRlZmluZWQnKTtcbiAgICB9XG5cbiAgICBjb25zdCBkb1RzID0gYXN5bmMgKHRzU2NyaXB0OiBFbGVtZW50KSA9PiB7XG4gICAgICBpZiAoISh0c1NjcmlwdCBpbnN0YW5jZW9mIEhUTUxTY3JpcHRFbGVtZW50KSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoXG4gICAgICAgICEvXnRleHRcXC90eXBlc2NyaXB0JC8udGVzdCh0c1NjcmlwdC50eXBlKVxuICAgICAgICAmJiAhL1xcLnRzJC9pLnRlc3QodHNTY3JpcHQuc3JjKVxuICAgICAgKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgbG9nZ2VyLmxvZygnVHJhbnNwaWxpbmcgdHlwZXNjcmlwdCcpO1xuXG4gICAgICBjb25zdCB7IHNyYyB9ID0gdHNTY3JpcHQ7XG4gICAgICBjb25zdCB0c1RleHQgPSAoc3JjLmxlbmd0aCA+IDBcbiAgICAgICAgPyBhd2FpdCBmZXRjaFVybFRleHQoc3JjKVxuICAgICAgICA6IHRzU2NyaXB0LmlubmVySFRNTFxuICAgICAgKVxuICAgICAgICAudHJpbSgpO1xuICAgICAgY29uc3QganNUZXh0ID0gdHJhbnNwaWxlKHRzVGV4dCk7XG4gICAgICBjb25zdCBqc1NjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuXG4gICAgICBqc1NjcmlwdC5pbm5lckhUTUwgPSBqc1RleHQ7XG4gICAgICB0c1NjcmlwdC5yZXBsYWNlV2l0aChqc1NjcmlwdCk7XG4gICAgICBsb2dnZXIuaW5mbygnVHJhbnNwaWxlZCcpO1xuICAgIH07XG5cbiAgICBsb2dnZXIuaW5mbygnTG9hZGVkIFR5cGVTY3JpcHQuIFN0YXJ0aW5nIHRvIHRyYW5zcGlsZS4uLicpO1xuXG4gICAgYXdhaXQgQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc2NyaXB0JykpXG4gICAgICAuZmlsdGVyKChzY3JpcHQpID0+IChcbiAgICAgICAgL150ZXh0XFwvdHlwZXNjcmlwdCQvLnRlc3Qoc2NyaXB0LnR5cGUpXG4gICAgICAgIHx8IC9cXC50cyQvaS50ZXN0KHNjcmlwdC5zcmMpXG4gICAgICApKVxuICAgICAgLnJlZHVjZShhc3luYyAocHJldlByb21pc2UsIHRzU2NyaXB0LCB0c0luZGV4LCB0c1NjcmlwdHMpID0+IHtcbiAgICAgICAgYXdhaXQgcHJldlByb21pc2U7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBsb2dnZXIubG9nKGBUcmFuc3BpbGluZyAke3RzSW5kZXggKyAxfSAvICR7dHNTY3JpcHRzLmxlbmd0aH1gKTtcbiAgICAgICAgICBkb1RzKHRzU2NyaXB0KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zdCB7IG1lc3NhZ2UgfSA9IGVycm9yIGFzIEVycm9yO1xuXG4gICAgICAgICAgbG9nZ2VyLndhcm4oYFRyYW5zcGlsaW5nIGZhaWxlZDogJHttZXNzYWdlfWApO1xuICAgICAgICB9XG4gICAgICB9LCBQcm9taXNlLnJlc29sdmUoKSk7XG4gICAgbG9nZ2VyLmluZm8oJ1RyYW5zcGlsZWQgYWxsIHNjcmlwdHMnKTtcblxuICAgIG5ldyBNdXRhdGlvbk9ic2VydmVyKChtdXRhdGlvbnMpID0+IHtcbiAgICAgIG11dGF0aW9ucy5mb3JFYWNoKChtdXRhdGlvbikgPT4ge1xuICAgICAgICBtdXRhdGlvbi5hZGRlZE5vZGVzLmZvckVhY2goKG5vZGUpID0+IHtcbiAgICAgICAgICBkb1RzKG5vZGUgYXMgRWxlbWVudCk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSlcbiAgICAgIC5vYnNlcnZlKGRvY3VtZW50LCB7XG4gICAgICAgIGNoaWxkTGlzdDogdHJ1ZSxcbiAgICAgICAgc3VidHJlZTogdHJ1ZSxcbiAgICAgIH0pO1xuICB9KVxuICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgY29uc3QgZGV0YWlsID0gZXJyb3I/Lm1lc3NhZ2UgPz8gJ05vdCBmb3VuZCc7XG5cbiAgICBsb2dnZXIud2FybihgTG9hZGluZyBUeXBlU2NyaXB0IGZhaWxlZDogJHtkZXRhaWx9YCk7XG4gIH0pXG4gIC5maW5hbGx5KCgpID0+IHtcbiAgICBsb2dnZXIubG9nKCdFbmQgb2YgVHlwZVNjcmlwdCcpO1xuICB9KTtcbiIsImltcG9ydCBmZXRjaFVybFRleHQgZnJvbSAnLi9mZXRjaFVybFRleHQnO1xuaW1wb3J0IHdhaXRGb3JQYWdlTG9hZGVkIGZyb20gJy4vd2FpdEZvclBhZ2VMb2FkZWQnO1xuXG4vKipcbiAqIExvYWRzIHNjcmlwdC5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gbG9hZFNjcmlwdChzb3VyY2U6IHN0cmluZywgbG9hZFJhd1RleHQgPSBmYWxzZSk6IFByb21pc2U8dm9pZD4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGNvbnN0IHNyYyA9ICgvXlxcLi8udGVzdChzb3VyY2UpXG4gICAgICA/IGAke2dsb2JhbFRoaXMubG9jYXRpb24uaHJlZi5yZXBsYWNlKC9cXHcrKFxcLlxcdyspPyQvLCAnJyl9JHtzb3VyY2V9YFxuICAgICAgOiBzb3VyY2VcbiAgICApO1xuICAgIGNvbnN0IHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuICAgIGNvbnNvbGUubG9nKGBcXGAtIHNvdXJjZTogJHtzb3VyY2V9YCk7XG4gICAgY29uc29sZS5sb2coYFxcYC0gc3JjOiAke3NyY31gKTtcblxuICAgIGlmIChsb2FkUmF3VGV4dCkge1xuICAgICAgZmV0Y2hVcmxUZXh0KHNyYylcbiAgICAgICAgLnRoZW4oKHRleHQpID0+IHtcbiAgICAgICAgICBzY3JpcHQuaW5uZXJIVE1MID0gdGV4dDtcbiAgICAgICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZChzY3JpcHQpO1xuICAgICAgICB9KVxuICAgICAgICAudGhlbihyZXNvbHZlKVxuICAgICAgICAuY2F0Y2gocmVqZWN0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2NyaXB0LnNyYyA9IHNyYztcbiAgICAgIHNjcmlwdC5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICBhd2FpdCB3YWl0Rm9yUGFnZUxvYWRlZCgpO1xuICAgICAgICByZXNvbHZlKCk7XG4gICAgICB9KTtcbiAgICAgIHNjcmlwdC5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsICgpID0+IHtcbiAgICAgICAgc2NyaXB0LnJlbW92ZSgpO1xuICAgICAgICByZWplY3QoKTtcbiAgICAgIH0pO1xuICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmQoc2NyaXB0KTtcbiAgICB9XG4gIH0pO1xufVxuXG5leHBvcnQgZGVmYXVsdCBsb2FkU2NyaXB0O1xuIl0sIm5hbWVzIjpbIkxvZ2dlciIsImRlYnVnIiwiY29uc29sZSIsImxvZyIsIndhcm4iLCJpbmZvIiwiZXJyb3IiLCJ0cmFjZSIsImdyb3VwIiwiZ3JvdXBDb2xsYXBzZWQiLCJncm91cEVuZCIsImNvbnN0cnVjdG9yIiwidGFnIiwiYmluZGVyIiwicHVzaCIsInRvU3RyaW5nIiwidGhpcyIsImJpbmQiLCJnbG9iYWxUaGlzIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwidW5kZWZpbmVkIiwiZXhwb3J0cyIsIm1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJkIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJvYmoiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiYXN5bmMiLCJ1cmwiLCJyZXNwb25zZSIsImZldGNoIiwibWV0aG9kIiwib2siLCJSZWZlcmVuY2VFcnJvciIsInN0YXR1c1RleHQiLCJ0ZXh0IiwiZG9jdW1lbnQiLCJyZWFkeVN0YXRlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwib25jZSIsInRzUGF0aCIsImxvZ2dlciIsInNvdXJjZSIsImxvYWRSYXdUZXh0IiwicmVqZWN0Iiwic3JjIiwidGVzdCIsImxvY2F0aW9uIiwiaHJlZiIsInJlcGxhY2UiLCJzY3JpcHQiLCJjcmVhdGVFbGVtZW50IiwiZmV0Y2hVcmxUZXh0IiwidGhlbiIsImlubmVySFRNTCIsImhlYWQiLCJhcHBlbmQiLCJjYXRjaCIsIndhaXRGb3JQYWdlTG9hZGVkIiwicmVtb3ZlIiwibG9hZFNjcmlwdCIsInRzIiwidHJhbnNwaWxlIiwiZG9UcyIsInRzU2NyaXB0IiwiSFRNTFNjcmlwdEVsZW1lbnQiLCJ0eXBlIiwidHNUZXh0IiwibGVuZ3RoIiwidHJpbSIsImpzVGV4dCIsImpzU2NyaXB0IiwicmVwbGFjZVdpdGgiLCJBcnJheSIsImZyb20iLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImZpbHRlciIsInJlZHVjZSIsInByZXZQcm9taXNlIiwidHNJbmRleCIsInRzU2NyaXB0cyIsIm1lc3NhZ2UiLCJNdXRhdGlvbk9ic2VydmVyIiwibXV0YXRpb25zIiwiZm9yRWFjaCIsIm11dGF0aW9uIiwiYWRkZWROb2RlcyIsIm5vZGUiLCJvYnNlcnZlIiwiY2hpbGRMaXN0Iiwic3VidHJlZSIsImRldGFpbCIsImZpbmFsbHkiXSwic291cmNlUm9vdCI6IiJ9